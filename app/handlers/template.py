"""
Handler –¥–ª—è —à–∞–±–ª–æ–Ω–∞ –∑–∞—è–≤–∫–∏

–ö–æ–º–∞–Ω–¥–∞ /template –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏ –≤ –≥—Ä—É–ø–ø–µ.
"""

import logging

from aiogram import Router, F
from aiogram.types import Message
from aiogram.filters import Command

logger = logging.getLogger(__name__)
router = Router()


TEMPLATE_MESSAGE = """üìù <b>–®–∞–±–ª–æ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏</b>

–ß—Ç–æ–±—ã –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–ª –∑–∞—è–≤–∫—É, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Ç–∞–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
<b>–¢–∏–ø —Ç–µ—Ö–Ω–∏–∫–∏:</b> –°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞
<b>–ü—Ä–æ–±–ª–µ–º–∞:</b> –ù–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è, –≥—É–¥–∏—Ç
<b>–ê–¥—Ä–µ—Å:</b> —É–ª. –õ–µ–Ω–∏–Ω–∞ –¥. 10 –∫–≤. 5
<b>–¢–µ–ª–µ—Ñ–æ–Ω:</b> +79001234567
<b>–ò–º—è:</b> –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤
<b>–í—Ä–µ–º—è:</b> —Å–µ–≥–æ–¥–Ω—è –≤ 14:00
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

<b>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∂–∏—Ç–µ:</b>
‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
‚úÖ –ê–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞

<i>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –∑–∞—è–≤–∫–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ.</i>"""


@router.message(Command("template"))
async def cmd_template(message: Message):
    """
    –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏.
    –î–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º –≤ –≥—Ä—É–ø–ø–µ.
    """
    await message.answer(TEMPLATE_MESSAGE, parse_mode="HTML")
    logger.info(f"–®–∞–±–ª–æ–Ω –∑–∞—è–≤–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω user_id={message.from_user.id}")


@router.message(F.text.lower().contains("—à–∞–±–ª–æ–Ω"))
async def msg_template_keyword(message: Message):
    """
    –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —à–∞–±–ª–æ–Ω–∞ –ø—Ä–∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏–∏ —Å–ª–æ–≤–∞ "—à–∞–±–ª–æ–Ω".
    """
    if message.chat.type in ["group", "supergroup"]:
        await message.answer(TEMPLATE_MESSAGE, parse_mode="HTML")
        logger.debug(f"–®–∞–±–ª–æ–Ω –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É –≤ –≥—Ä—É–ø–ø–µ {message.chat.id}")
