# Автоматическая маркировка PR на основе измененных файлов
# Используется в .github/workflows/pr-checks.yml

# Обработчики бота
handlers:
  - changed-files:
    - any-glob-to-any-file: 'app/handlers/**'

# Сервисы
services:
  - changed-files:
    - any-glob-to-any-file: 'app/services/**'

# База данных и репозитории
database:
  - changed-files:
    - any-glob-to-any-file:
      - 'app/database/**'
      - 'app/repositories/**'
      - 'migrations/**'

# Тесты
tests:
  - changed-files:
    - any-glob-to-any-file: 'tests/**'

# Документация
documentation:
  - changed-files:
    - any-glob-to-any-file:
      - 'docs/**'
      - '*.md'
      - 'CHANGELOG.md'
      - 'README.md'

# CI/CD
ci-cd:
  - changed-files:
    - any-glob-to-any-file:
      - '.github/workflows/**'
      - '.github/**'
      - 'docker/**'
      - 'Dockerfile'

# Зависимости
dependencies:
  - changed-files:
    - any-glob-to-any-file:
      - 'requirements.txt'
      - 'requirements-dev.txt'
      - 'pyproject.toml'

# Конфигурация
configuration:
  - changed-files:
    - any-glob-to-any-file:
      - 'app/config.py'
      - '.env*'
      - 'env.example'
      - 'alembic.ini'

# Скрипты
scripts:
  - changed-files:
    - any-glob-to-any-file: 'scripts/**'

# Клавиатуры и UI
ui:
  - changed-files:
    - any-glob-to-any-file:
      - 'app/keyboards/**'
      - 'app/presenters/**'

# Middleware и фильтры
middleware:
  - changed-files:
    - any-glob-to-any-file:
      - 'app/middlewares/**'
      - 'app/filters/**'

# Безопасность
security:
  - changed-files:
    - any-glob-to-any-file:
      - 'tests/unit/test_pii_masking.py'
      - 'app/utils/pii_masking.py'
