# ‚ö° –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

> üí° **–ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

---

## üöÄ –û–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç - –≤—Å—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

```bash
ssh user@–≤–∞—à_IP
cd ~/telegram_repair_bot
bash scripts/update_bot.sh
```

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –°–∫—Ä–∏–ø—Ç:
- –°–æ–∑–¥–∞—Å—Ç backup –ë–î
- –ü–æ–ª—É—á–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ Git
- –ü–µ—Ä–µ—Å–æ–±–µ—Ä—ë—Ç Docker –æ–±—Ä–∞–∑
- –ü—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –±–æ—Ç–∞

---

## üîç –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫

```bash
bash scripts/diagnose_update.sh
```

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –¥–∞—Å—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.

---

## üìã –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (3 –∫–æ–º–∞–Ω–¥—ã)

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
docker compose -f docker/docker-compose.prod.yml down
git pull origin main

# 2. –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ë–ï–ó –∫—ç—à–∞
docker compose -f docker/docker-compose.prod.yml build --no-cache

# 3. –ó–∞–ø—É—Å–∫
docker compose -f docker/docker-compose.prod.yml up -d
```

---

## üêõ –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### "–ö–æ–¥ –æ–±–Ω–æ–≤–∏–ª—Å—è, –Ω–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ-—Å—Ç–∞—Ä–æ–º—É"
```bash
docker compose -f docker/docker-compose.prod.yml build --no-cache
docker compose -f docker/docker-compose.prod.yml up -d --force-recreate
```

### "Database locked"
```bash
docker compose -f docker/docker-compose.prod.yml down
rm -f data/bot_database.db-{journal,shm,wal}
docker compose -f docker/docker-compose.prod.yml up -d
```

### "Permission denied"
```bash
sudo chown -R $USER:$USER ~/telegram_repair_bot/
```

---

## üìñ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[–ö—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ](docs/troubleshooting/–û–ë–ù–û–í–õ–ï–ù–ò–ï_–ë–û–¢–ê_–ö–†–ê–¢–ö–û.md)** - –í—Å–µ —Ä–µ—à–µ–Ω–∏—è
- **[–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ](docs/troubleshooting/BOT_UPDATE_ISSUES.md)** - 10+ –ø—Ä–∏—á–∏–Ω –∏ —Ä–µ—à–µ–Ω–∏–π

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# –õ–æ–≥–∏ –±–µ–∑ –æ—à–∏–±–æ–∫?
docker compose -f docker/docker-compose.prod.yml logs --tail=50 bot

# –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω?
docker ps | grep telegram

# –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram?
# –û—Ç–ø—Ä–∞–≤—å—Ç–µ /start
```

---

**–î–∞—Ç–∞:** 15 –æ–∫—Ç—è–±—Ä—è 2025  
**–ê–∫—Ç—É–∞–ª—å–Ω–æ –¥–ª—è:** Production deployment

