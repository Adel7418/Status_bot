# –≠–¢–ê–ü 2: –°–ª–æ–≤–∞—Ä—å —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π –∏ regex –ø–∞—Ç—Ç–µ—Ä–Ω—ã (–ó–ê–í–ï–†–®–Å–ù)

**–î–∞—Ç–∞:** 27 —è–Ω–≤–∞—Ä—è 2025
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** ~30 –º–∏–Ω—É—Ç
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–Å–ù

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è telegram_parser

–°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è –¥–ª—è –ø–∞—Ä—Å–µ—Ä–∞:

```
app/services/telegram_parser/
‚îú‚îÄ‚îÄ __init__.py          # –≠–∫—Å–ø–æ—Ä—Ç –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç
‚îú‚îÄ‚îÄ equipment_dict.py    # –°–ª–æ–≤–∞—Ä—å —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π —Ç–∏–ø–æ–≤ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
‚îî‚îÄ‚îÄ patterns.py          # Regex –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
```

### 2. –°–ª–æ–≤–∞—Ä—å —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π (equipment_dict.py)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú–∞–ø–ø–∏–Ω–≥ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–≤ –Ω–∞ –ø–æ–ª–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ —Ç–µ—Ö–Ω–∏–∫–∏.

#### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

**1. –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ EQUIPMENT_ABBREVIATIONS**

–°–ª–æ–≤–∞—Ä—å –∏–∑ 50+ –º–∞–ø–ø–∏–Ω–≥–æ–≤ –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç–µ—Ö–Ω–∏–∫–∏:

```python
EQUIPMENT_ABBREVIATIONS: dict[str, str] = {
    # –°—Ç–∏—Ä–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã
    "—Å/–º": "–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞",
    "—Å–º": "–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞",
    "—Å—Ç–∏—Ä–∞–ª–∫–∞": "–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞",

    # –ü–æ—Å—É–¥–æ–º–æ–µ—á–Ω—ã–µ –º–∞—à–∏–Ω—ã
    "–ø/–º": "–ü–æ—Å—É–¥–æ–º–æ–µ—á–Ω–∞—è –º–∞—à–∏–Ω–∞",
    "–ø–º": "–ü–æ—Å—É–¥–æ–º–æ–µ—á–Ω–∞—è –º–∞—à–∏–Ω–∞",

    # –¢–µ–ª–µ–≤–∏–∑–æ—Ä—ã
    "—Ç–≤": "–¢–µ–ª–µ–≤–∏–∑–æ—Ä",
    "—Ç–µ–ª–∏–∫": "–¢–µ–ª–µ–≤–∏–∑–æ—Ä",

    # ... –∏ –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã —Ç–µ—Ö–Ω–∏–∫–∏
}
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è:**
- –°—Ç–∏—Ä–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã (6 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π)
- –ü–æ—Å—É–¥–æ–º–æ–µ—á–Ω—ã–µ –º–∞—à–∏–Ω—ã (4 –≤–∞—Ä–∏–∞–Ω—Ç–∞)
- –¢–µ–ª–µ–≤–∏–∑–æ—Ä—ã (4 –≤–∞—Ä–∏–∞–Ω—Ç–∞)
- –•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∏ (4 –≤–∞—Ä–∏–∞–Ω—Ç–∞)
- –ú–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤—ã–µ –ø–µ—á–∏ (4 –≤–∞—Ä–∏–∞–Ω—Ç–∞)
- –í–∞—Ä–æ—á–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ (5 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)
- –î—É—Ö–æ–≤—ã–µ —à–∫–∞—Ñ—ã (4 –≤–∞—Ä–∏–∞–Ω—Ç–∞)
- –í—ã—Ç—è–∂–∫–∏ (2 –≤–∞—Ä–∏–∞–Ω—Ç–∞)
- –ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä—ã (4 –≤–∞—Ä–∏–∞–Ω—Ç–∞)
- –ü—ã–ª–µ—Å–æ—Å—ã (2 –≤–∞—Ä–∏–∞–Ω—Ç–∞)
- –ú—É–ª—å—Ç–∏–≤–∞—Ä–∫–∏ (2 –≤–∞—Ä–∏–∞–Ω—Ç–∞)
- –ö–æ—Ñ–µ–º–∞—à–∏–Ω—ã (3 –≤–∞—Ä–∏–∞–Ω—Ç–∞)
- –£—Ç—é–≥–∏, —á–∞–π–Ω–∏–∫–∏, –º–æ—Ä–æ–∑–∏–ª—å–Ω–∏–∫–∏
- –ü—Ä–æ—á–µ–µ

**2. –§—É–Ω–∫—Ü–∏—è normalize_equipment_type()**

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∏–ø–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è —Å —Ç—Ä–µ–º—è —É—Ä–æ–≤–Ω—è–º–∏ –ø–æ–∏—Å–∫–∞:

1. **–¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ:** `"—Å/–º"` ‚Üí `"–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞"`
2. **–ü—Ä–µ—Ñ–∏–∫—Å–Ω—ã–π –ø–æ–∏—Å–∫:** `"—Å/–º LG"` ‚Üí `"–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞"`
3. **–ü–æ–∏—Å–∫ –ø–æ —Å–ª–æ–≤–∞–º:** `"—Å—Ç–∏—Ä–∞–ª–∫–∞ —Å–∞–º—Å—É–Ω–≥"` ‚Üí `"–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞"`

Fallback: –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤–æ–µ —Å–ª–æ–≤–æ —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã.

### 3. Regex –ø–∞—Ç—Ç–µ—Ä–Ω—ã (patterns.py)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –Ω–µ—Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.

#### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

**1. PHONE_PATTERN (Regex)**

–ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤:

```python
PHONE_PATTERN: Pattern[str] = re.compile(
    r"(?:\+?7|8)[\s\-\(\)]?(?:\d{3})[\s\-\(\)]?\d{3}[\s\-]?\d{2}[\s\-]?\d{2}"
)
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:**
- `+79001234567`
- `89001234567`
- `79001234567`
- `8 (900) 123-45-67`
- `8-900-123-45-67`

**2. TIME_PATTERN (Regex)**

–ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤:

```python
TIME_PATTERN: Pattern[str] = re.compile(
    r"""
    (?:
        # –í—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ –ß–ß:–ú–ú –∏–ª–∏ –ß–ß.–ú–ú
        \d{1,2}[:\.]\d{2}
        |
        # –î–∏–∞–ø–∞–∑–æ–Ω –≤—Ä–µ–º–µ–Ω–∏: —Å X –¥–æ Y
        (?:—Å|–°)\s+\d{1,2}(?:[:\.]\d{2})?\s+(?:–¥–æ|–ø–æ)\s+\d{1,2}(?:[:\.]\d{2})?
        |
        # –ö/–¥–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
        (?:–∫|–¥–æ|–ö|–î–æ)\s+\d{1,2}(?:[:\.]\d{2})?
        |
        # –ü—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ (—á–∞—Å—ã)
        (?:–≤|–í)\s+\d{1,2}
    )
    """,
    re.VERBOSE,
)
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:**
- `14:00`, `10.30` (—Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è)
- `—Å 9 –¥–æ 12`, `—Å 14-18` (–¥–∏–∞–ø–∞–∑–æ–Ω)
- `–∫ 15:00`, `–¥–æ 18` (–¥–µ–¥–ª–∞–π–Ω)
- `–≤ 10` (–ø—Ä–æ—Å—Ç–æ–π —Ñ–æ—Ä–º–∞—Ç)

**3. TIME_KEYWORDS (–°–ø–∏—Å–æ–∫)**

–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏:

```python
TIME_KEYWORDS = [
    "—Å–µ–≥–æ–¥–Ω—è", "–∑–∞–≤—Ç—Ä–∞", "–ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞",
    "—É—Ç—Ä–æ–º", "–¥–Ω—ë–º", "–≤–µ—á–µ—Ä–æ–º", "–Ω–æ—á—å—é",
    "—Å—Ä–æ—á–Ω–æ", "–∞—Å–∞–ø", "–∫", "–¥–æ", "–ø–æ—Å–ª–µ",
    "—Å", "—á–∞—Å–æ–≤", "–≤—Ä–µ–º—è"
]
```

**4. ADDRESS_KEYWORDS (–°–ø–∏—Å–æ–∫)**

–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–¥—Ä–µ—Å–∞ (24 –≤–∞—Ä–∏–∞–Ω—Ç–∞):

```python
ADDRESS_KEYWORDS = [
    "—É–ª–∏—Ü–∞", "—É–ª", "—É–ª.",
    "–ø—Ä–æ—Å–ø–µ–∫—Ç", "–ø—Ä", "–ø—Ä.",
    "–¥–æ–º", "–¥", "–¥.",
    "–∫–≤–∞—Ä—Ç–∏—Ä–∞", "–∫–≤", "–∫–≤.",
    "–∫–æ—Ä–ø—É—Å", "–∫", "–∫.",
    # ... –∏ –¥—Ä—É–≥–∏–µ
]
```

**5. –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**

**extract_phone(text: str) -> str | None**
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç —Ç–µ–ª–µ—Ñ–æ–Ω –∏–∑ —Ç–µ–∫—Å—Ç–∞
- –£–±–∏—Ä–∞–µ—Ç –ª–∏—à–Ω–∏–µ —Å–∏–º–≤–æ–ª—ã (—Å–∫–æ–±–∫–∏, –ø—Ä–æ–±–µ–ª—ã, —Ç–∏—Ä–µ)
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `None` –µ—Å–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω

**contains_time_indicator(text: str) -> bool**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç regex + –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `True/False`

**looks_like_address(text: str) -> bool**
- –≠–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∞–¥—Ä–µ—Å
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç: –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞, —Ü–∏—Ñ—Ä—ã, —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- –ü—Ä–∏–º–µ—Ä—ã: `"—É–ª. –õ–µ–Ω–∏–Ω–∞ 5"` ‚Üí `True`, `"–Ω–µ –∫—Ä—É—Ç–∏—Ç"` ‚Üí `False`

**normalize_phone(phone: str) -> str**
- –ü—Ä–∏–≤–æ–¥–∏—Ç –Ω–æ–º–µ—Ä –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É `+7XXXXXXXXXX`
- –ó–∞–º–µ–Ω—è–µ—Ç `8` –Ω–∞ `7` –≤ –Ω–∞—á–∞–ª–µ
- –£–±–∏—Ä–∞–µ—Ç –≤—Å–µ –Ω–µ—Ü–∏—Ñ—Ä–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Type Hints

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Python 3.11+ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞:

```python
from typing import Pattern

def extract_phone(text: str) -> str | None: ...
PHONE_PATTERN: Pattern[str] = re.compile(...)
EQUIPMENT_ABBREVIATIONS: dict[str, str] = {...}
```

### Docstrings

–í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–ª–Ω—ã–µ docstrings —Å:
- –û–ø–∏—Å–∞–Ω–∏–µ–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (`Args`)
- –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ (`Returns`)
- –ü—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (`Examples`)

### –≠–∫—Å–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ __init__.py

–ú–æ–¥—É–ª—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ `__all__`:

```python
__all__ = [
    "EQUIPMENT_ABBREVIATIONS",
    "normalize_equipment_type",
    "PHONE_PATTERN",
    "TIME_PATTERN",
    "TIME_KEYWORDS",
    "ADDRESS_KEYWORDS",
    "extract_phone",
    "contains_time_indicator",
    "looks_like_address",
]
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∏–ø–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è

```python
from app.services.telegram_parser import normalize_equipment_type

# –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
normalize_equipment_type("—Å/–º")  # ‚Üí "–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞"

# –° –º–æ–¥–µ–ª—å—é
normalize_equipment_type("—Ç–≤ samsung")  # ‚Üí "–¢–µ–ª–µ–≤–∏–∑–æ—Ä"

# –†–∞–∑–≥–æ–≤–æ—Ä–Ω–æ–µ
normalize_equipment_type("—Å—Ç–∏—Ä–∞–ª–∫–∞")  # ‚Üí "–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞"
```

### –ü—Ä–∏–º–µ—Ä 2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞

```python
from app.services.telegram_parser import extract_phone

text = "–°/–º –Ω–µ –∫—Ä—É—Ç–∏—Ç –±–∞—Ä–∞–±–∞–Ω. —É–ª. –õ–µ–Ω–∏–Ω–∞ 5, –∫–≤. 10. +79001234567"
phone = extract_phone(text)  # ‚Üí "+79001234567"
```

### –ü—Ä–∏–º–µ—Ä 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞

```python
from app.services.telegram_parser import contains_time_indicator

contains_time_indicator("–∑–∞–≤—Ç—Ä–∞ –∫ 14:00")  # ‚Üí True
contains_time_indicator("—Å 9 –¥–æ 12")       # ‚Üí True
contains_time_indicator("–°/–º —Ç–µ—á—ë—Ç")       # ‚Üí False
```

### –ü—Ä–∏–º–µ—Ä 4: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞

```python
from app.services.telegram_parser import looks_like_address

looks_like_address("—É–ª. –õ–µ–Ω–∏–Ω–∞ 5, –∫–≤. 10")  # ‚Üí True
looks_like_address("–õ–µ–Ω–∏–Ω–∞ 5-10")           # ‚Üí True
looks_like_address("–Ω–µ –∫—Ä—É—Ç–∏—Ç –±–∞—Ä–∞–±–∞–Ω")     # ‚Üí False
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

```
telegram_repair_bot/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îî‚îÄ‚îÄ services/
‚îÇ       ‚îî‚îÄ‚îÄ telegram_parser/              # NEW –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
‚îÇ           ‚îú‚îÄ‚îÄ __init__.py               # NEW —ç–∫—Å–ø–æ—Ä—Ç—ã
‚îÇ           ‚îú‚îÄ‚îÄ equipment_dict.py         # NEW —Å–ª–æ–≤–∞—Ä—å
‚îÇ           ‚îî‚îÄ‚îÄ patterns.py               # NEW –ø–∞—Ç—Ç–µ—Ä–Ω—ã
‚îî‚îÄ‚îÄ docs/
    ‚îî‚îÄ‚îÄ implementation/
        ‚îú‚îÄ‚îÄ stage1_infrastructure.md      # –ü—Ä–µ–¥—ã–¥—É—â–∏–π –æ—Ç—á—ë—Ç
        ‚îî‚îÄ‚îÄ stage2_patterns.md            # NEW —ç—Ç–æ—Ç –æ—Ç—á–µ—Ç
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

**–≠–¢–ê–ü 3:** –°–æ–∑–¥–∞–Ω–∏–µ Pydantic —Å—Ö–µ–º –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- `app/services/telegram_parser/schemas.py`
  - `OrderParsed` ‚Äî –º–æ–¥–µ–ª—å —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω–Ω–æ–π –∑–∞—è–≤–∫–∏
  - `ParseResult` ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ (success/failure)

**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ –Ω–∞—á–∞–ª—É üü¢

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤** ‚Äî regex —É—á–∏—Ç—ã–≤–∞—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω–∏—è
2. ‚úÖ **–≠–≤—Ä–∏—Å—Ç–∏–∫–∞** ‚Äî `looks_like_address()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏
3. ‚úÖ **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** ‚Äî –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–≤–æ–¥—è—Ç –¥–∞–Ω–Ω—ã–µ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –≤–∏–¥—É
4. ‚úÖ **Type Safety** ‚Äî –ø–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è —Å Python 3.11+ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º
5. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** ‚Äî docstrings —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
6. üìù **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –≤ —Å–ª–æ–≤–∞—Ä—å

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- [x] –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `app/services/telegram_parser/`
- [x] –°–æ–∑–¥–∞–Ω `__init__.py` —Å —ç–∫—Å–ø–æ—Ä—Ç–∞–º–∏
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `equipment_dict.py` (—Å–ª–æ–≤–∞—Ä—å + —Ñ—É–Ω–∫—Ü–∏—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `patterns.py` (regex + –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
- [x] –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [x] –û—Ç—á—ë—Ç —Å–æ–∑–¥–∞–Ω

---

**–ê–≤—Ç–æ—Ä:** Claude Code Sonnet
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~30 –º–∏–Ω—É—Ç
**–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø:** –≠–¢–ê–ü 3 (Pydantic —Å—Ö–µ–º—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö)
