# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Redis –¥–ª—è FSM Storage

**–ü—Ä–æ–±–ª–µ–º–∞:** MemoryStorage —Ç–µ—Ä—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è FSM –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞
**–†–µ—à–µ–Ω–∏–µ:** Redis Storage –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
**ETA:** 1 –¥–µ–Ω—å
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0 (–∫—Ä–∏—Ç–∏—á–Ω–æ)

---

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

1. ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω `bot.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ RedisStorage
2. ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω `requirements.txt` - —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω Redis
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ graceful shutdown –¥–ª—è Redis —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

---

## üìã –®–∞–≥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### **–í–∞—Ä–∏–∞–Ω—Ç A: –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–±–µ–∑ Docker)**

#### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Redis –Ω–∞ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ

**Windows:**
```powershell
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Chocolatey
choco install redis-64

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ WSL2
wsl --install
wsl
sudo apt update
sudo apt install redis-server
sudo service redis-server start
```

**Linux/Mac:**
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install redis-server
sudo systemctl start redis
sudo systemctl enable redis

# macOS (Homebrew)
brew install redis
brew services start redis
```

#### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É Redis

```bash
redis-cli ping
# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: PONG
```

#### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
# –ò–ª–∏ —Ç–æ–ª—å–∫–æ Redis:
pip install redis==5.2.1
```

#### 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª

```bash
# .env
REDIS_URL=redis://localhost:6379/0
DEV_MODE=false  # –í–∞–∂–Ω–æ! –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Redis
```

#### 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
python bot.py
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
```
... - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è RedisStorage –¥–ª—è FSM: redis://localhost:6379/0
... - –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!
```

---

### **–í–∞—Ä–∏–∞–Ω—Ç B: Production —Å Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

#### 1. –°–æ–∑–¥–∞–π—Ç–µ/–æ–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª

```bash
# .env
BOT_TOKEN=your_bot_token_here
ADMIN_IDS=123456789
DISPATCHER_IDS=987654321

# Redis configuration
REDIS_URL=redis://redis:6379/0
DEV_MODE=false

# Database
DATABASE_PATH=/app/data/bot_database.db
```

#### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å Redis

**–í–∞—Ä–∏–∞–Ω—Ç 2.1: –û–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

```bash
# –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
docker-compose -f docker/docker-compose.yml -f docker/docker-compose.redis.yml up -d
```

**–í–∞—Ä–∏–∞–Ω—Ç 2.2: –û–±–Ω–æ–≤–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π docker-compose.yml**

–î–æ–±–∞–≤—å—Ç–µ Redis —Å–µ—Ä–≤–∏—Å –≤ `docker/docker-compose.yml`:

```yaml
services:
  bot:
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
    environment:
      - DATABASE_PATH=/app/data/bot_database.db
      - REDIS_URL=redis://redis:6379/0  # –î–æ–±–∞–≤–∏—Ç—å
    depends_on:
      - redis  # –î–æ–±–∞–≤–∏—Ç—å

  # –î–æ–±–∞–≤–∏—Ç—å Redis —Å–µ—Ä–≤–∏—Å
  redis:
    image: redis:7-alpine
    container_name: telegram_bot_redis
    restart: unless-stopped
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    networks:
      - bot_network
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 10s
      timeout: 5s
      retries: 5
    command: redis-server --appendonly yes
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

volumes:
  redis_data:
    driver: local
```

–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
docker-compose -f docker/docker-compose.yml up -d --build
```

#### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
docker-compose -f docker/docker-compose.yml ps

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã:
# - telegram_repair_bot (bot)
# - telegram_bot_redis (redis)
```

#### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞

```bash
docker logs telegram_repair_bot

# –ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
# "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è RedisStorage –¥–ª—è FSM: redis://redis:6379/0"
```

#### 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É Redis

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É Redis
docker exec -it telegram_bot_redis redis-cli

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
127.0.0.1:6379> PING
PONG

127.0.0.1:6379> KEYS *
# –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –∫–ª—é—á–∏ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–æ—Ç–∞

127.0.0.1:6379> exit
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ FSM

1. **–ù–∞—á–Ω–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏:**
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É `/create_order`
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ç–µ—Ö–Ω–∏–∫–∏
   - –í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```bash
   # Docker
   docker restart telegram_repair_bot

   # –õ–æ–∫–∞–ª—å–Ω–æ
   # Ctrl+C –∏ –∑–∞—Ç–µ–º python bot.py
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
   - ‚úÖ **–° Redis:** –ë–æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç –¥–∏–∞–ª–æ–≥ —Å —Ç–æ–≥–æ –∂–µ –º–µ—Å—Ç–∞
   - ‚ùå **–ë–µ–∑ Redis:** –ë–æ—Ç –∑–∞–±—É–¥–µ—Ç –æ –¥–∏–∞–ª–æ–≥–µ

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–µ–π –≤ Redis

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ Redis
redis-cli  # –õ–æ–∫–∞–ª—å–Ω–æ
# –∏–ª–∏
docker exec -it telegram_bot_redis redis-cli  # Docker

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á–∏ FSM
127.0.0.1:6379> KEYS aiogram:*
# –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∫–ª—é—á–∏ –≤–∏–¥–∞:
# 1) "aiogram:fsm:state:123456789:123456789"
# 2) "aiogram:fsm:data:123456789:123456789"

# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
127.0.0.1:6379> GET "aiogram:fsm:state:123456789:123456789"
# –í–µ—Ä–Ω—ë—Ç: "OrderState:description" (–∏–ª–∏ –¥—Ä—É–≥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
```

### –¢–µ—Å—Ç 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏ Redis

```bash
redis-cli INFO memory

# –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
# used_memory_human: 1.23M
# used_memory_peak_human: 2.45M
```

---

## üîç –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "Connection refused" –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ Redis

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ Redis
# Linux/Mac:
sudo systemctl status redis

# Docker:
docker ps | grep redis

# –ï—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω - –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
sudo systemctl start redis  # Linux
brew services start redis   # macOS
docker-compose up -d redis  # Docker
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ë–æ—Ç –≤—Å—ë —Ä–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MemoryStorage

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
```bash
docker logs telegram_repair_bot | grep -i storage
# –∏–ª–∏
cat logs/bot.log | grep -i storage
```

**–ü—Ä–∏—á–∏–Ω–∞:** `DEV_MODE=true` –≤ .env

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –í .env —Ñ–∞–π–ª–µ
DEV_MODE=false
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞.

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Redis —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**

1. –í–µ—Ä—Å–∏—é Redis:
```bash
redis-cli INFO | grep redis_version
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 5.0
```

2. –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–∞–Ω–Ω—ã—Ö (Docker):
```bash
docker exec -it telegram_bot_redis ls -la /data
```

3. –õ–æ–≥–∏ Redis:
```bash
docker logs telegram_bot_redis
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: "ModuleNotFoundError: No module named 'redis'"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
pip install redis==5.2.1

# –ò–ª–∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
pip install -r requirements.txt
```

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å Redis

### –û–∂–∏–¥–∞–µ–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –ü–∞–º—è—Ç—å | ~100MB –¥–ª—è 1000 –∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤ |
| CPU | <5% –ø—Ä–∏ –Ω–∞–≥—Ä—É–∑–∫–µ |
| –î–∏—Å–∫ | ~10MB (—Å persistence) |
| Latency | <1ms –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ persistence

Redis —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å **AOF (Append Only File)** –≤ docker-compose:

```yaml
command: redis-server --appendonly yes
```

–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ –¥–∏—Å–∫ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É.

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ redis-cli –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
redis-cli --stat

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π MONITOR
redis-cli MONITOR
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–¥–ª—è production)

### 1. –î–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è Redis

–û–±–Ω–æ–≤–∏—Ç–µ `docker-compose.yml`:

```yaml
services:
  redis:
    command: redis-server --appendonly yes --requirepass YOUR_SECURE_PASSWORD

  bot:
    environment:
      - REDIS_URL=redis://:YOUR_SECURE_PASSWORD@redis:6379/0
```

### 2. –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Ä—Ç—É

```yaml
services:
  redis:
    ports:
      # –í–º–µ—Å—Ç–æ:
      # - "6379:6379"
      # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ (—Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ Docker network):
      - "127.0.0.1:6379:6379"
```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ firewall (Linux)

```bash
sudo ufw allow from 172.18.0.0/16 to any port 6379
sudo ufw deny 6379
```

---

## üìà –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ MemoryStorage:

**‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:** MemoryStorage –Ω–µ–ª—å–∑—è –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ Redis –Ω–∞–ø—Ä—è–º—É—é, —Ç–∞–∫ –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ –≤ RAM.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
1. –û–±—ä—è–≤–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ –ø–ª–∞–Ω–æ–≤–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–Ω–æ—á—å)
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å Redis
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–∞—á–Ω—É—Ç –Ω–æ–≤—ã–µ –¥–∏–∞–ª–æ–≥–∏

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] Redis —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- [ ] `requirements.txt` –æ–±–Ω–æ–≤–ª—ë–Ω (redis==5.2.1)
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (`pip install redis`)
- [ ] `.env` —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω (`REDIS_URL`, `DEV_MODE=false`)
- [ ] Docker compose –æ–±–Ω–æ–≤–ª—ë–Ω (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker)
- [ ] –ë–æ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- [ ] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è RedisStorage"
- [ ] –¢–µ—Å—Ç –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω (–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ ‚Üí —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ)
- [ ] Redis healthcheck —Ä–∞–±–æ—Ç–∞–µ—Ç (`redis-cli ping`)
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üéØ –ò—Ç–æ–≥

**–î–æ:**
- ‚ùå –°–æ—Å—Ç–æ—è–Ω–∏—è –≤ RAM (MemoryStorage)
- ‚ùå –ü–æ—Ç–µ—Ä—è –¥–∏–∞–ª–æ–≥–æ–≤ –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ—Ä—è—é—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å

**–ü–æ—Å–ª–µ:**
- ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏—è –≤ Redis (–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)
- ‚úÖ –î–∏–∞–ª–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Å —Ç–æ–≥–æ –∂–µ –º–µ—Å—Ç–∞
- ‚úÖ Production-ready

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~1 —á–∞—Å (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞) + —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker logs telegram_repair_bot`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Redis: `redis-cli ping`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` —Ñ–∞–π–ª: `REDIS_URL` –∏ `DEV_MODE`
4. –°–º. —Ä–∞–∑–¥–µ–ª "–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫" –≤—ã—à–µ

---

**–î–∞—Ç–∞:** 19 –æ–∫—Ç—è–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0 - –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è production

