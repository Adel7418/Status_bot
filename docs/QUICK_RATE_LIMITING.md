# ‚ö° Rate Limiting - –ë—ã—Å—Ç—Ä–∞—è –ø–∞–º—è—Ç–∫–∞

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

- ‚úÖ `app/middlewares/rate_limit.py` —Å–æ–∑–¥–∞–Ω
- ‚úÖ –ü–æ–¥–∫–ª—é—á—ë–Ω –≤ `bot.py`
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏: 3 req/sec, burst 5

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

---

## üß™ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
python bot.py

# –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# "Rate limiting: 3 req/sec, burst 5"
```

### 2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –±—ã—Å—Ç—Ä–æ –∫–ª–∏–∫–∞—Ç—å

–í –±–æ—Ç–µ –±—ã—Å—Ç—Ä–æ –Ω–∞–∂–∏–º–∞–π—Ç–µ –ª—é–±—É—é –∫–Ω–æ–ø–∫—É 10 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥.

**–ü–æ—Å–ª–µ 5-6 –∫–ª–∏–∫–∞:**
```
‚ö†Ô∏è –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤
–ü–æ–¥–æ–∂–¥–∏—Ç–µ 1 —Å–µ–∫. –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.
```

‚úÖ **Rate Limiting —Ä–∞–±–æ—Ç–∞–µ—Ç!**

---

## üìä –ö–∞–∫ —ç—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç

| –ê—Ç–∞–∫–∞ | –ë–µ–∑ Rate Limiting | –° Rate Limiting |
|-------|------------------|-----------------|
| DoS (1000 req/sec) | ‚ùå –ë–æ—Ç –ø–∞–¥–∞–µ—Ç | ‚úÖ –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ 5-–≥–æ |
| Spam —Å–æ–æ–±—â–µ–Ω–∏—è | ‚ùå –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å—ë | ‚úÖ –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ 5-–≥–æ |
| –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ | ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–≤–∞–∂–¥—ã | ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–≤–∞–∂–¥—ã |
| API –ª–∏–º–∏—Ç Telegram | ‚ùå –ú–æ–∂–Ω–æ –ø—Ä–µ–≤—ã—Å–∏—Ç—å | ‚úÖ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–µ–≤—ã—Å–∏—Ç—å |

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ï—Å–ª–∏ —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–æ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∂–∞–ª—É—é—Ç—Å—è):

```python
# bot.py, —Å—Ç—Ä–æ–∫–∞ 193
rate_limit_middleware = RateLimitMiddleware(
    rate=5,      # –ë—ã–ª–æ 3
    period=1,
    burst=10     # –ë—ã–ª–æ 5
)
```

### –ï—Å–ª–∏ —Å–ª–∏—à–∫–æ–º –º—è–≥–∫–æ (–º–Ω–æ–≥–æ spam):

```python
# bot.py, —Å—Ç—Ä–æ–∫–∞ 193
rate_limit_middleware = RateLimitMiddleware(
    rate=2,      # –ë—ã–ª–æ 3
    period=1,
    burst=3      # –ë—ã–ª–æ 5
)
```

---

## üìù –õ–æ–≥–∏

```bash
# –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ rate limiting
tail -f logs/bot.log | grep "Rate"

# –ù–æ—Ä–º–∞:
Rate limiting: 3 req/sec, burst 5
DEBUG - Rate limit OK for user 123456789

# –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞:
WARNING - ‚ö†Ô∏è Rate limit exceeded for user 123456789
```

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Rate Limiting —Ä–∞–±–æ—Ç–∞–µ—Ç
**–ó–∞—â–∏—Ç–∞:** ‚úÖ Spam, DoS, API –ª–∏–º–∏—Ç—ã
**–£–¥–æ–±—Å—Ç–≤–æ:** ‚úÖ –ù–µ –º–µ—à–∞–µ—Ç –æ–±—ã—á–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

---

**–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `RATE_LIMITING_GUIDE.md`

