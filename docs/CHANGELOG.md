# üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

–í—Å–µ –≤–∞–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ.

–§–æ—Ä–º–∞—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–µ–¥—É–µ—Ç [Semantic Versioning](https://semver.org/lang/ru/).

---

## [Unreleased]

---

## [v2.9.1] - 2025-11-26

### üîß –£–ª—É—á—à–µ–Ω–∏—è CI/CD

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- üîÑ **–£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ GitHub workflows**:
  - –£–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è workflows: `test.yml` –∏ `lint.yml`
  - –í—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∞ –≤ `ci.yml` –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏
  - –£–º–µ–Ω—å—à–µ–Ω–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è CI –∑–∞ —Å—á–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–¥–∞—á

- üêõ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å –ø—É—Ç–µ–π –≤ —Ç–µ—Å—Ç–∞—Ö**:
  - –ò–∑–º–µ–Ω–µ–Ω –ø—É—Ç—å —Å `tests/` –Ω–∞ `tests` –≤–æ –≤—Å–µ—Ö workflows –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ Windows/Linux
  - –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã: `ci.yml`, `deploy.yml`, `pr-checks.yml`

- üêõ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å Trivy —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ PR**:
  - Trivy —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç SARIF –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –¥–ª—è PR (—Ç–∞–∫ –∫–∞–∫ –æ–±—Ä–∞–∑—ã –Ω–µ –ø—É—à–∞—Ç—Å—è)
  - –î–ª—è PR –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è table —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
  - –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `load: true` –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ –ª–æ–∫–∞–ª—å–Ω–æ –≤ PR

- üßπ **–£–ø—Ä–æ—â–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Python –≤–µ—Ä—Å–∏–π**:
  - –í—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω Python 3.13 –∏–∑ –º–∞—Ç—Ä–∏—Ü—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å asyncpg
  - –£–¥–∞–ª–µ–Ω —Å–ª–æ–∂–Ω—ã–π workaround –¥–ª—è asyncpg (38 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)
  - –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ Python 3.13 –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π –≤–µ—Ä—Å–∏–∏ asyncpg

#### –î–æ–±–∞–≤–ª–µ–Ω–æ
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ –¥–µ–ø–ª–æ—è**:
  - –î–æ–±–∞–≤–ª–µ–Ω —à–∞–≥ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞–ª–∏—á–∏—è SSH —Å–µ–∫—Ä–µ—Ç–æ–≤ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º –≤ `deploy.yml`
  - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

- üè∑Ô∏è **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ PR**:
  - –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `.github/labeler.yml` —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–µ—Ç–æ–∫
  - –ú–µ—Ç–∫–∏ –¥–ª—è: handlers, services, database, tests, documentation, ci-cd, dependencies, configuration, scripts, ui, middleware, security
  - –£–ø—Ä–æ—â–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—é –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é Pull Request'–æ–≤

- üìã **–í–∞–ª–∏–¥–∞—Ü–∏—è CHANGELOG –ø—Ä–∏ —Ä–µ–ª–∏–∑–µ**:
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ `CHANGELOG.md` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–µ–ª–∏–∑–∞
  - Release workflow —Ç–µ–ø–µ—Ä—å —Ç—Ä–µ–±—É–µ—Ç –Ω–∞–ª–∏—á–∏—è –∑–∞–ø–∏—Å–∏ –æ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ –≤ CHANGELOG

---

## [v2.9.0] - 2025-11-25

### ‚ú® –£–ª—É—á—à–µ–Ω–∏—è

#### –ò–∑–º–µ–Ω–µ–Ω–æ
- üí∞ **–£–ª—É—á—à–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∑–∞–∫–∞–∑–∞—Ö**:
  - –í –∫–∞—Ä—Ç–æ—á–∫–µ –∑–∞–∫–∞–∑–∞ "–û–±—â–∞—è —Å—É–º–º–∞" —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á–∏—Å—Ç—É—é —Å—É–º–º—É –±–µ–∑ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (`total_amount - materials_cost`)
  - "–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø—Ä–∏–±—ã–ª—å –∫–æ–º–ø–∞–Ω–∏–∏ –∏–∑ –ø–æ–ª—è `company_profit`
  - –ï—Å–ª–∏ —Ä–∞—Å—Ö–æ–¥–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –Ω–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å –∫–æ–º–ø–∞–Ω–∏–∏
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ –¥–ª—è –∑–∞—è–≤–æ–∫ –≤ —Å—Ç–∞—Ç—É—Å–µ "CLOSED"
  - –§–∞–π–ª: `app/handlers/order_search.py:303-327`

- üìä **–û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –≤ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ—Ç—á–µ—Ç–∞—Ö (daily/weekly)**:
  - –ö–æ–ª–æ–Ω–∫–∞ "–°—É–º–º–∞ –∑–∞—è–≤–æ–∫" –≤ —Å–≤–æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á–∏—Å—Ç—É—é –æ–±—â—É—é —Å—É–º–º—É (`total_amount - materials_cost`)
  - –ö–æ–ª–æ–Ω–∫–∞ "–°—É–º–º–∞ –∫ —Å–¥–∞—á–µ" –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∏–±—ã–ª—å –∫–æ–º–ø–∞–Ω–∏–∏ (`company_profit`)
  - –í –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ –∑–∞–∫–∞–∑–∞–º —Ç–∞–∫–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –Ω–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –æ–±—â–µ–π —Å—É–º–º—ã
  - Monthly –æ—Ç—á–µ—Ç—ã –æ—Å—Ç–∞–ª–∏—Å—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–∏—Å–ø–æ–ª—å–∑—É—é—Ç `total_amount` –∫–∞–∫ –µ—Å—Ç—å)
  - –§–∞–π–ª: `app/services/master_reports_detailed.py:245-253, 494-548`

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- üêõ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞**:
  - –°–Ω–∏–∂–µ–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å 2 –¥–æ 1 —Å–∏–º–≤–æ–ª–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–æ–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ —Å –æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–º–∏ ID
  - –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å –∑–∞–∫–∞–∑—ã –≤—Ä–æ–¥–µ "5", "7" –∏ —Ç.–¥.
  - –§–∞–π–ª: `app/handlers/order_search.py:125-130`

- üêõ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ ValidationError –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ —Å–ø–∏—Å–∫—É**:
  - –£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω–æ–≥–æ Pydantic –æ–±—ä–µ–∫—Ç–∞ `CallbackQuery`
  - –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ `callback_search_back_to_list` —Å –ø—Ä—è–º–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –≤–º–µ—Å—Ç–æ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ callback.data
  - –§–∞–π–ª: `app/handlers/order_search.py:329-393`

- üêõ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ callback –¥–∞–Ω–Ω—ã—Ö**:
  - –ò–∑–º–µ–Ω–µ–Ω —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –≤ callback_data —Å –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è –Ω–∞ –¥–≤–æ–µ—Ç–æ—á–∏–µ: `search_view_order:10` –≤–º–µ—Å—Ç–æ `search_view_order_10`
  - –û–±–Ω–æ–≤–ª–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ callback –¥–∞–Ω–Ω—ã—Ö —Å `split("_")` –Ω–∞ `split(":")`
  - –§–∞–π–ª: `app/handlers/order_search.py:269-279`

- üìù **–£–ª—É—á—à–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞**:
  - –î–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ ID —Å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º: "–ù–∞–π–¥–µ–Ω –∑–∞–∫–∞–∑ #10" –≤–º–µ—Å—Ç–æ verbose —Ñ–æ—Ä–º–∞—Ç–∞
  - –£–±—Ä–∞–Ω–∞ –∏–∑–±—ã—Ç–æ—á–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ "–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤: 1" –ø—Ä–∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
  - –§–∞–π–ª: `app/handlers/order_search.py:181-194`

---

## [v2.8.0] - 2025-11-25

### ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –£–ª—É—á—à–µ–Ω–æ
- üîç **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —É–º–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ (Smart Search)**:
  - –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –ø–æ–∏—Å–∫–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π fallback –¥–ª—è —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∞–¥—Ä–µ—Å–æ–≤
  - –¢–µ–ø–µ—Ä—å –ø–æ–∏—Å–∫ "15" —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ—Ç –Ω–∞–π—Ç–∏ –∑–∞–∫–∞–∑ #15, –∑–∞—Ç–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—â–µ—Ç –≤ –∞–¥—Ä–µ—Å–∞—Ö
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–Ω–æ–º–µ—Ä–∞ –¥–æ–º–æ–≤/–∫–≤–∞—Ä—Ç–∏—Ä)
  - –£–º–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (—Å–æ–≤–µ—Ç—ã –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∑–∞–ø—Ä–æ—Å–∞)
  - –£–ª—É—á—à–µ–Ω –Ω–∞—á–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ: –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ–±–µ–ª—ã/–∑–Ω–∞–∫–∏ ("15 –∞", "42-1") ‚Üí —Å—Ä–∞–∑—É –ø–æ–∏—Å–∫ –ø–æ –∞–¥—Ä–µ—Å—É
  - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è: –ë—É–∫–≤—ã ‚Üí –¢–µ–ª–µ—Ñ–æ–Ω ‚Üí ID (—Å fallback –∫ –∞–¥—Ä–µ—Å—É) ‚Üí –ê–¥—Ä–µ—Å
  - –§–∞–π–ª—ã: `app/services/order_search.py:76-160`, `app/handlers/order_search.py:46-170`

#### –û—á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞
- üßπ **–£–¥–∞–ª–µ–Ω—ã —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞**:
  - –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è: `select_search_type`, `enter_phone`, `enter_address`, `enter_phone_and_address`
  - –û—Å—Ç–∞–≤–ª–µ–Ω–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: `enter_query` –¥–ª—è —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
  - –§–∞–π–ª: `app/states.py:125-128`

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### –û–±–Ω–æ–≤–ª–µ–Ω–æ
- üìÑ **–û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø–æ–∏—Å–∫—É –∑–∞–∫–∞–∑–æ–≤**:
  - –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω `docs/ORDER_SEARCH_GUIDE.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —É–º–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
  - –û–±–Ω–æ–≤–ª–µ–Ω `docs/SMART_SEARCH_UI_PLAN.md` —Å –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –ø–æ–∏—Å–∫–∞
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø–æ–∏—Å–∫–∞
  - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –ø–æ–∏—Å–∫–∞ –∏ fallback –ª–æ–≥–∏–∫–∞

---

## [v2.7.0] - 2025-11-24

### ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –î–æ–±–∞–≤–ª–µ–Ω–æ
- ‚≠ê **–î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —Ç–∏–ø —Ç–µ—Ö–Ω–∏–∫–∏: –•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∏**:
  - –î–æ–±–∞–≤–ª–µ–Ω —Ç–∏–ø —Ç–µ—Ö–Ω–∏–∫–∏ "–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∏" –≤ —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –∫–æ–º–∏—Å—Å–∏–π –¥–ª—è —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–æ–≤:
    - 50/50 (–º–∞—Å—Ç–µ—Ä/–∫–æ–º–ø–∞–Ω–∏—è) –ø—Ä–∏ —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏ –¥–æ 20000 —Ä—É–±–ª–µ–π
    - 60/40 (–º–∞—Å—Ç–µ—Ä/–∫–æ–º–ø–∞–Ω–∏—è) –ø—Ä–∏ —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏ –æ—Ç 20000 —Ä—É–±–ª–µ–π –∏ –≤—ã—à–µ
  - –§–∞–π–ª—ã: `app/core/constants.py:78,93`, `app/utils/helpers.py:398-405`

---

## [v2.6.5] - 2025-11-24

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚ùå **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ –∫–∞–∫ –æ—Ç–∫–∞–∑ –ø—Ä–∏ —Å—É–º–º–µ 0 —Ä—É–±–ª–µ–π**:
  - –£–±—Ä–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞—è–≤–∫–∏ –∫–∞–∫ –æ—Ç–∫–∞–∑ –ø—Ä–∏ –≤–≤–æ–¥–µ —Å—É–º–º—ã 0 —Ä—É–±–ª–µ–π
  - –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –≤–≤–æ–¥–µ —Å—É–º–º—ã 0 –∏–ª–∏ –º–µ–Ω—å—à–µ 1000 —Ä—É–±–ª–µ–π —Å–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: "–≠—Ç–æ –æ—Ç–∫–∞–∑ –æ—Ç –∑–∞—è–≤–∫–∏?"
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å "–î–∞, —ç—Ç–æ –æ—Ç–∫–∞–∑" –∏–ª–∏ "–ù–µ—Ç, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å" —Å –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º
  - –£–ª—É—á—à–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è —Å–ª—É—á–∞—è –Ω—É–ª–µ–≤–æ–π —Å—É–º–º—ã: –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "(–Ω—É–ª–µ–≤–∞—è —Å—É–º–º–∞)" –≤–º–µ—Å—Ç–æ "(–º–µ–Ω—å—à–µ 1000 —Ä—É–±–ª–µ–π)"
  - –§–∞–π–ª: `app/handlers/master.py:1646-1676`

---

## [v2.6.4] - 2025-11-24

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚ùå **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞—è–≤–∫–∏**:
  - –£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –æ—à–∏–±–∫–∞ "Invalid format specifier '.2f if total_amount else 0'" –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Å–∏–Ω—Ç–∞–∫—Å–∏—Å f-string –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞—è–≤–∫–∏
  - –¢–µ–ø–µ—Ä—å —É—Å–ª–æ–≤–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è `.2f`
  - –§–∞–π–ª: `app/handlers/master.py:2207-2208`

---

## [v2.6.3] - 2025-11-24

### ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –î–æ–±–∞–≤–ª–µ–Ω–æ
- ‚≠ê **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—å—é –°—Ç–∞—Ä—à–∏–π –º–∞—Å—Ç–µ—Ä (SENIOR_MASTER)**:
  - –î–æ–±–∞–≤–ª–µ–Ω UI –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è —Ä–æ–ª–∏ SENIOR_MASTER –≤ –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞—Å—Ç–µ—Ä–∞–º–∏
  - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –Ω–∞–∑–Ω–∞—á–∞—Ç—å –º–∞—Å—Ç–µ—Ä–æ–≤ —Å—Ç–∞—Ä—à–∏–º–∏ –º–∞—Å—Ç–µ—Ä–∞–º–∏ —Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ 50% –ø—Ä–∏–±—ã–ª–∏
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Ä–æ–ª–∏ –≤ –¥–µ—Ç–∞–ª—è—Ö –º–∞—Å—Ç–µ—Ä–∞
  - –ö–Ω–æ–ø–∫–∏ "‚≠ê –ù–∞–∑–Ω–∞—á–∏—Ç—å –°—Ç–∞—Ä—à–∏–º –º–∞—Å—Ç–µ—Ä–æ–º" –∏ "‚≠ê –£–±—Ä–∞—Ç—å —Ä–æ–ª—å –°—Ç–∞—Ä—à–∏–π –º–∞—Å—Ç–µ—Ä"
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ä–æ–ª—å—é SENIOR_MASTER –≤ audit_log

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### –ò–∑–º–µ–Ω–µ–Ω–æ
- üóÑÔ∏è **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**:
  - –û–±–Ω–æ–≤–ª–µ–Ω CheckConstraint –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã users - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–æ–ª–∏ SENIOR_MASTER
  - –°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è `f9ec1face4e2` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è constraint
  - –†–æ–ª—å SENIOR_MASTER —Ç–µ–ø–µ—Ä—å –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î

#### –§–∞–π–ª—ã
- `app/database/orm_models.py` - –æ–±–Ω–æ–≤–ª–µ–Ω constraint –¥–ª—è —Ä–æ–ª–∏
- `app/keyboards/inline.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–ª—å—é SENIOR_MASTER
- `app/handlers/admin.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è —Ä–æ–ª–∏
- `migrations/versions/f9ec1face4e2_*.py` - –º–∏–≥—Ä–∞—Ü–∏—è constraint

---

## [v2.6.3] - 2025-11-24

### ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –î–æ–±–∞–≤–ª–µ–Ω–æ
- ‚≠ê **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—å—é –°—Ç–∞—Ä—à–∏–π –º–∞—Å—Ç–µ—Ä (SENIOR_MASTER)**:
  - –î–æ–±–∞–≤–ª–µ–Ω UI –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è —Ä–æ–ª–∏ SENIOR_MASTER –≤ –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞—Å—Ç–µ—Ä–∞–º–∏
  - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –Ω–∞–∑–Ω–∞—á–∞—Ç—å –º–∞—Å—Ç–µ—Ä–æ–≤ —Å—Ç–∞—Ä—à–∏–º–∏ –º–∞—Å—Ç–µ—Ä–∞–º–∏ —Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ 50% –ø—Ä–∏–±—ã–ª–∏
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Ä–æ–ª–∏ –≤ –¥–µ—Ç–∞–ª—è—Ö –º–∞—Å—Ç–µ—Ä–∞
  - –ö–Ω–æ–ø–∫–∏ "‚≠ê –ù–∞–∑–Ω–∞—á–∏—Ç—å –°—Ç–∞—Ä—à–∏–º –º–∞—Å—Ç–µ—Ä–æ–º" –∏ "‚≠ê –£–±—Ä–∞—Ç—å —Ä–æ–ª—å –°—Ç–∞—Ä—à–∏–π –º–∞—Å—Ç–µ—Ä"
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ä–æ–ª—å—é SENIOR_MASTER –≤ audit_log

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### –ò–∑–º–µ–Ω–µ–Ω–æ
- üóÑÔ∏è **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**:
  - –û–±–Ω–æ–≤–ª–µ–Ω CheckConstraint –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã users - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–æ–ª–∏ SENIOR_MASTER
  - –°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è `f9ec1face4e2` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è constraint
  - –†–æ–ª—å SENIOR_MASTER —Ç–µ–ø–µ—Ä—å –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î

#### –§–∞–π–ª—ã
- `app/database/orm_models.py` - –æ–±–Ω–æ–≤–ª–µ–Ω constraint –¥–ª—è —Ä–æ–ª–∏
- `app/keyboards/inline.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–ª—å—é SENIOR_MASTER
- `app/handlers/admin.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è —Ä–æ–ª–∏
- `migrations/versions/f9ec1face4e2_*.py` - –º–∏–≥—Ä–∞—Ü–∏—è constraint

---

## [v2.6.2] - 2025-11-24

### üîß –£–ª—É—á—à–µ–Ω–∏—è

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- üêõ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤ MyPy**:
  - –ü–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã –æ—à–∏–±–∫–∏ –≤ `app/handlers/master.py` (None-checks, type casting)
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –≤ `app/services/excel_export.py`
  - –ü—Ä–æ–µ–∫—Ç —Ç–µ–ø–µ—Ä—å –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É MyPy –±–µ–∑ –æ—à–∏–±–æ–∫

- üîê **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤**:
  - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞—è–≤–∫–∞–º–∏ (–ø–µ—Ä–µ–≤–æ–¥ –≤ –î–†, –æ—Ç–∫–∞–∑, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ), –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω—ã –Ω–∞ –¥—Ä—É–≥–∏—Ö –º–∞—Å—Ç–µ—Ä–æ–≤
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ `ADMIN` –≤–æ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å –∑–∞—è–≤–∫–∞–º–∏ –≤ `app/handlers/master.py`

### üê≥ –î–µ–ø–ª–æ–π
- –î–æ–±–∞–≤–ª–µ–Ω —Ñ–∞–π–ª `env.production` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Docker

---

## [v2.6.1] - 2025-11-17

### üîß –£–ª—É—á—à–µ–Ω–∏—è

#### –ò–∑–º–µ–Ω–µ–Ω–æ
- üìä **–£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Excel-–æ—Ç—á–µ—Ç–æ–≤ –¥–ª—è –º–∞—Å—Ç–µ—Ä–æ–≤**:
  - –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏–∑ A1 –≤ E1 –¥–ª—è –ª—É—á—à–µ–π –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏
  - –õ–∏—Å—Ç "–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞—è–≤–∫–∏" —É–ø—Ä–æ—â–µ–Ω: –æ—Å—Ç–∞–≤–ª–µ–Ω–æ —Ç–æ–ª—å–∫–æ 8 –±–∞–∑–æ–≤—ã—Ö –∫–æ–ª–æ–Ω–æ–∫
  - –£–¥–∞–ª–µ–Ω—ã —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –∏–∑ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞—è–≤–æ–∫ (–°—É–º–º–∞, –ú–∞—Ç–µ—Ä–∏–∞–ª—ã, –ü—Ä–∏–±—ã–ª—å –º–∞—Å—Ç–µ—Ä–∞, –ü—Ä–∏–±—ã–ª—å –∫–æ–º–ø–∞–Ω–∏–∏, –í—ã–µ–∑–¥, –û—Ç–∑—ã–≤)
  - –ë–ª–æ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω –≤ –ª–∏—Å—Ç "–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏"
  - –ö–æ–ª–æ–Ω–∫–∞ "–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–∞–∑–∞" –æ—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞—è–≤–∫–∞—Ö
  - –ò—Ç–æ–≥–æ–≤—ã–µ —Å—É–º–º—ã —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Ç–æ–π –∂–µ —Å—Ç—Ä–æ–∫–µ, —á—Ç–æ –∏ "–ò–¢–û–ì–û:"

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- üêõ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Excel-–æ—Ç—á–µ—Ç–æ–≤**:
  - –£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Å –¥—É–±–ª–∏—Ä—É—é—â–∏–º–∏—Å—è –∏–º–ø–æ—Ä—Ç–∞–º–∏ `Alignment`
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –¥–æ—Å—Ç—É–ø –∫ `sqlite3.Row` –æ–±—ä–µ–∫—Ç–∞–º (–∑–∞–º–µ–Ω–µ–Ω–æ `.get()` –Ω–∞ –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ `[]`)
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ `'sqlite3.Row' object has no attribute 'get'`
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ `cannot access local variable 'Alignment' where it is not associated with a value`

### üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç—á–µ—Ç–æ–≤

#### –õ–∏—Å—Ç "–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞—è–≤–∫–∏" (8 –∫–æ–ª–æ–Ω–æ–∫)
- ID, –°—Ç–∞—Ç—É—Å, –¢–∏–ø —Ç–µ—Ö–Ω–∏–∫–∏, –ö–ª–∏–µ–Ω—Ç, –ê–¥—Ä–µ—Å, –¢–µ–ª–µ—Ñ–æ–Ω, –°–æ–∑–¥–∞–Ω–∞, –û–±–Ω–æ–≤–ª–µ–Ω–∞
- –ë–µ–∑ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ç–µ–∫—É—â–∏—Ö –∑–∞–∫–∞–∑–æ–≤

#### –õ–∏—Å—Ç "–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏" (15 –∫–æ–ª–æ–Ω–æ–∫)
- –ë–ª–æ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤–≤–µ—Ä—Ö—É (–í—Å–µ–≥–æ –∑–∞—è–≤–æ–∫, –ó–∞–≤–µ—Ä—à–µ–Ω–æ, –í —Ä–∞–±–æ—Ç–µ, –û—Ç–∫–∞–∑–∞–Ω–æ, –û–±—â–∞—è —Å—É–º–º–∞, –ú–∞—Ç–µ—Ä–∏–∞–ª—ã, –°–¥–∞—á–∞ –≤ –∫–∞—Å—Å—É, –°—Ä–µ–¥–Ω–∏–π —á–µ–∫)
- –ü–æ–ª–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- –ö–æ–ª–æ–Ω–∫–∞ "–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–∞–∑–∞" –¥–ª—è –æ—Ç–∫–∞–∑–∞–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫
- –ò—Ç–æ–≥–æ–≤—ã–µ —Å—É–º–º—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ—Ç–∫–∞–∑–∞–º

---

## [v2.6.0] - 2025-11-17

### üéâ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –î–æ–±–∞–≤–ª–µ–Ω–æ
- üìù **–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏—á–∏–Ω –æ—Ç–∫–∞–∑–∞ –æ—Ç –∑–∞—è–≤–æ–∫**:
  - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ –æ—Ç –∑–∞—è–≤–∫–∏ (–¥–ª—è –º–∞—Å—Ç–µ—Ä–æ–≤, –∞–¥–º–∏–Ω–æ–≤, –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–≤)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–æ–ø—Ä–æ—Å "–≠—Ç–æ –æ—Ç–∫–∞–∑?" –ø—Ä–∏ –≤–≤–æ–¥–µ —Å—É–º–º—ã < 1000‚ÇΩ
  - Inline –∫–Ω–æ–ø–∫–∏ "–î–∞" / "–ù–µ—Ç" –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–∫–∞–∑–∞
  - –ó–∞–ø—Ä–æ—Å –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–∞–∑–∞ –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ –ª–∏—á–Ω—ã—Ö —á–∞—Ç–∞—Ö –∏ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–∞—Ö
  - –ü–æ–ª–µ `refuse_reason VARCHAR(500)` –≤ —Ç–∞–±–ª–∏—Ü–µ `orders`
  - –ù–æ–≤—ã–π —Ñ–∞–π–ª: `migrations/versions/add_refuse_reason_to_orders.py`
  - –ù–æ–≤—ã–π —Ñ–∞–π–ª: `migrations/versions/62892e258c24_merge_refuse_reason_and_equipment_type_.py`
  - –ù–æ–≤—ã–π —Ñ–∞–π–ª: `docs/REFUSE_REASON_FEATURE_2025-11-17.md`
  - –ù–æ–≤—ã–π —Ñ–∞–π–ª: `docs/MIGRATION_REFUSE_REASON_2025-11-17.md`

- üìä **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ—Ç–∫–∞–∑–∞–º**:
  - –ö–æ–ª–æ–Ω–∫–∞ "–û—Ç–∫–∞–∑–æ–≤ —Å –ø—Ä–∏—á–∏–Ω–æ–π" –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –º–∞—Å—Ç–µ—Ä–æ–≤
  - –û—Ç–¥–µ–ª—å–Ω—ã–π –ª–∏—Å—Ç "–ü—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–∞–∑–æ–≤" –≤ Excel-–æ—Ç—á–µ—Ç–∞—Ö
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–µ—Ä–≤—ã—Ö 5 –ø—Ä–∏—á–∏–Ω –æ—Ç–∫–∞–∑–æ–≤ –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –º–∞—Å—Ç–µ—Ä–∞ (–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å)
  - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –º–∞—Å—Ç–µ—Ä–∞–º —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø—Ä–∏—á–∏–Ω
  - –ü–æ–¥—Å—á–µ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—Ç–∫–∞–∑–æ–≤ –Ω–∞ –∫–∞–∂–¥–æ–º –º–∞—Å—Ç–µ—Ä–µ

- üé® **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π**:
  - –ö–Ω–æ–ø–∫–∞ "‚ùå –û—Ç–º–µ–Ω–∞" –¥–ª—è –∑–∞—è–≤–æ–∫ –≤ —Å—Ç–∞—Ç—É—Å–µ NEW –∏–ª–∏ ACCEPTED
  - –ö–Ω–æ–ø–∫–∞ "‚ùå –û—Ç–∫–∞–∑" –¥–ª—è –∑–∞—è–≤–æ–∫ –≤ –¥—Ä—É–≥–∏—Ö —Å—Ç–∞—Ç—É—Å–∞—Ö
  - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è –ª–∏—á–Ω—ã—Ö —á–∞—Ç–æ–≤ –∏ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤
  - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è –º–∞—Å—Ç–µ—Ä–æ–≤, –∞–¥–º–∏–Ω–æ–≤ –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–≤

### üîß –£–ª—É—á—à–µ–Ω–∏—è

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –º–∞—Å—Ç–µ—Ä–æ–≤**:
  - –£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –æ—à–∏–±–∫–∞ "database error" –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä—è–º—ã—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ `reports_service.py`
  - –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ ORM-–º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤ Excel-—ç–∫—Å–ø–æ—Ä—Ç–µ

#### FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ `CompleteOrderStates`:
  - `confirm_low_amount_refusal` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç–∫–∞–∑–∞ –ø—Ä–∏ —Å—É–º–º–µ <1000‚ÇΩ
  - `enter_refuse_reason_on_complete` - –≤–≤–æ–¥ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–∞–∑–∞ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ `RefuseOrderStates`:
  - `enter_refuse_reason` - –≤–≤–æ–¥ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–∞–∑–∞
  - `confirm_refusal` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç–∫–∞–∑–∞

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- üóÑÔ∏è **–ú–∏–≥—Ä–∞—Ü–∏—è –ë–î**:
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `refuse_reason VARCHAR(500)` –≤ —Ç–∞–±–ª–∏—Ü—É `orders`
  - –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –∫–æ –≤—Å–µ–º –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö (city1, city2, main)
  - –°–æ–∑–¥–∞–Ω merge-–∫–æ–º–º–∏—Ç –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ —Å –º–∏–≥—Ä–∞—Ü–∏–µ–π `equipment_type`
  - –°–æ–∑–¥–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π
  - –°–∫—Ä–∏–ø—Ç `scripts/apply_refuse_reason_migration.py` –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
  - –°–∫—Ä–∏–ø—Ç `scripts/verify_refuse_reason_column.py` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

#### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
- üîß **–û–±–Ω–æ–≤–ª–µ–Ω—ã handlers**:
  - `app/handlers/master.py` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–∫–∞–∑–æ–≤ –º–∞—Å—Ç–µ—Ä–∞ —Å –ø—Ä–∏—á–∏–Ω–æ–π
  - `app/handlers/group_interaction.py` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–∫–∞–∑–æ–≤ –≤ –≥—Ä—É–ø–ø–∞—Ö
  - `app/handlers/dispatcher.py` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–∫–∞–∑–æ–≤ –∞–¥–º–∏–Ω–∞/–¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
  - `app/handlers/admin.py` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏—á–∏–Ω –æ—Ç–∫–∞–∑–æ–≤ –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
  - `app/keyboards/inline.py` - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ "–û—Ç–º–µ–Ω–∞"/"–û—Ç–∫–∞–∑"
  - `app/states.py` - –Ω–æ–≤—ã–µ FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è

#### –°–µ—Ä–≤–∏—Å—ã –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- üîß **–û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–µ—Ä–≤–∏—Å—ã**:
  - `app/services/reports_service.py` - –ø–æ–¥—Å—á–µ—Ç –æ—Ç–∫–∞–∑–æ–≤ —Å –ø—Ä–∏—á–∏–Ω–∞–º–∏
  - `app/services/excel_export.py` - —ç–∫—Å–ø–æ—Ä—Ç –ø—Ä–∏—á–∏–Ω –æ—Ç–∫–∞–∑–æ–≤ –≤ Excel
  - `app/database/orm_database.py` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–∞–∑–∞
  - `app/database/orm_models.py` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –Ω–∞–ª–∏—á–∏–µ –ø–æ–ª—è `refuse_reason`

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### –°–æ–∑–¥–∞–Ω–æ
- üìñ **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞**:
  - `docs/REFUSE_REASON_FEATURE_2025-11-17.md` - –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ (217 —Å—Ç—Ä–æ–∫)
    - –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ workflow
    - –°—Ö–µ–º—ã FSM –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
    - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    - FAQ –∏ troubleshooting
  - `docs/MIGRATION_REFUSE_REASON_2025-11-17.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
    - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é –º–∏–≥—Ä–∞—Ü–∏–∏
    - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    - –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ—Ç–∫–∞—Ç–∞

### üöÄ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### Workflow –¥–ª—è –º–∞—Å—Ç–µ—Ä–æ–≤
1. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–û—Ç–∫–∞–∑"/"–û—Ç–º–µ–Ω–∞" ‚Üí –∑–∞–ø—Ä–æ—Å –ø—Ä–∏—á–∏–Ω—ã –≤ –ª–∏—á–∫—É
2. –ú–∞—Å—Ç–µ—Ä –≤–≤–æ–¥–∏—Ç –ø—Ä–∏—á–∏–Ω—É ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
3. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)

#### Workflow –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å –Ω–∏–∑–∫–æ–π —Å—É–º–º–æ–π
1. –ú–∞—Å—Ç–µ—Ä –≤–≤–æ–¥–∏—Ç —Å—É–º–º—É < 1000‚ÇΩ
2. –ë–æ—Ç —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç: "–≠—Ç–æ –æ—Ç–∫–∞–∑?" (–∫–Ω–æ–ø–∫–∏ "–î–∞" / "–ù–µ—Ç")
3. –ï—Å–ª–∏ "–î–∞" ‚Üí –∑–∞–ø—Ä–æ—Å –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–∞–∑–∞
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º REFUSED –∏ –ø—Ä–∏—á–∏–Ω–æ–π

#### Workflow –¥–ª—è –∞–¥–º–∏–Ω–æ–≤/–¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–≤
1. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–û—Ç–∫–∞–∑"/"–û—Ç–º–µ–Ω–∞" ‚Üí –∑–∞–ø—Ä–æ—Å –ø—Ä–∏—á–∏–Ω—ã
2. –ê–¥–º–∏–Ω/–¥–∏—Å–ø–µ—Ç—á–µ—Ä –≤–≤–æ–¥–∏—Ç –ø—Ä–∏—á–∏–Ω—É
3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å—Ç–∞—Ç—É—Å–∞

#### Excel-–æ—Ç—á–µ—Ç—ã
- –ù–æ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ "–û—Ç–∫–∞–∑–æ–≤ —Å –ø—Ä–∏—á–∏–Ω–æ–π" –≤ –ª–∏—Å—Ç–µ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞—Å—Ç–µ—Ä–æ–≤"
- –ù–æ–≤—ã–π –ª–∏—Å—Ç "–ü—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–∞–∑–æ–≤" —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π:
  - ID –º–∞—Å—Ç–µ—Ä–∞ –∏ –∏–º—è
  - ID –∑–∞—è–≤–∫–∏
  - –î–∞—Ç–∞ –æ—Ç–∫–∞–∑–∞
  - –ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–∞–∑–∞

### ‚ö†Ô∏è Breaking Changes
–ù–µ—Ç breaking changes - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º.

### üéØ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–ò–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤**: 43
- **–ù–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤**: 10
- **–ù–æ–≤—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π**: 2
- **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö handlers**: 5
- **–ù–æ–≤—ã—Ö FSM —Å–æ—Å—Ç–æ—è–Ω–∏–π**: 4

### üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –º–∞—Å—Ç–µ—Ä–æ–≤ (database error)
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–∏—á–∏–Ω –æ—Ç–∫–∞–∑–æ–≤
- –£–ª—É—á—à–µ–Ω UX –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∑–∞—è–≤–∫–∞–º–∏ –Ω–∞ –º–∞–ª—ã–µ —Å—É–º–º—ã

---

## [v2.5.0] - 2025-11-16

### üéâ –ö—Ä—É–ø–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (5 –∏—Ç–µ—Ä–∞—Ü–∏–π)

**–ì–õ–ê–í–ù–û–ï –î–û–°–¢–ò–ñ–ï–ù–ò–ï:** –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ **1741 —Å—Ç—Ä–æ–∫—É (-20.3%)** –∑–∞ —Å—á–µ—Ç –≤–Ω–µ–¥—Ä–µ–Ω–∏—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!

#### üèÜ –ú–∞—Å—à—Ç–∞–±–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ handlers

**Handlers —Å–æ–∫—Ä–∞—Ç–∏–ª–∏—Å—å –Ω–∞ 20.3% (1741 —Å—Ç—Ä–æ–∫–∞):**
- `master.py`: **-626 —Å—Ç—Ä–æ–∫ (-20.6%)** ‚Äî –±—ã–ª–æ 3045, —Å—Ç–∞–ª–æ 2419
- `dispatcher.py`: **-735 —Å—Ç—Ä–æ–∫ (-20.9%)** ‚Äî –±—ã–ª–æ 3525, —Å—Ç–∞–ª–æ 2790
- `admin.py`: **-380 —Å—Ç—Ä–æ–∫ (-19.0%)** ‚Äî –±—ã–ª–æ 2000, —Å—Ç–∞–ª–æ 1620

**–ü—Ä–∏—á–∏–Ω—ã —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Presenters (—É–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- DI —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (—É–±—Ä–∞–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ `Database()`, connect/disconnect)
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ (–≤—ã–Ω–æ—Å –≤ —Å–µ—Ä–≤–∏—Å—ã)
- –£–¥–∞–ª–µ–Ω–∏–µ –º–µ—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞

#### ‚úÖ Dependency Injection –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –∏ –≤–Ω–µ–¥—Ä–µ–Ω

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ DI middleware **–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω** –≤ `bot.py`
- ‚úÖ **4 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö handler —Ñ–∞–π–ª–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω—ã** (100% –≤ –Ω–∏—Ö):
  - `admin_history.py` (11 —Ñ—É–Ω–∫—Ü–∏–π)
  - `order_edit.py` (3 —Ñ—É–Ω–∫—Ü–∏–∏)
  - `developer.py` (2 —Ñ—É–Ω–∫—Ü–∏–∏)
  - `financial_reports.py` (2+ —Ñ—É–Ω–∫—Ü–∏–∏)
- ‚úÖ **31 —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç DI** (36% –æ—Ç –≤—Å–µ—Ö handlers)
- ‚úÖ `Database()` —Å–Ω–∏–∂–µ–Ω–æ —Å 107 –¥–æ **77 –≤—ã–∑–æ–≤–æ–≤ (-28%)**
- ‚úÖ Handlers —Ç–µ–ø–µ—Ä—å —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã —Å –º–æ–∫–∞–º–∏

**–°–æ–∑–¥–∞–Ω–æ:**
- `app/middlewares/dependency_injection.py` - middleware –¥–ª—è –∏–Ω–∂–µ–∫—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- Handlers –ø–æ–ª—É—á–∞—é—Ç `db` —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤

#### ‚úÖ Presenters Pattern - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è UI

**–°–æ–∑–¥–∞–Ω–æ:**
- `app/presenters/order_presenter.py` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ (200+ —Å—Ç—Ä–æ–∫)
- `app/presenters/master_presenter.py` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–æ–≤ (150+ —Å—Ç—Ä–æ–∫)

**–í–Ω–µ–¥—Ä–µ–Ω–æ –≤ 17 –º–µ—Å—Ç–∞—Ö:**
- `admin.py` - 3 –º–µ—Å—Ç–∞ (OrderPresenter: 2, MasterPresenter: 2)
- `dispatcher.py` - 4 –º–µ—Å—Ç–∞ (OrderPresenter: 3, MasterPresenter: 1)
- `master.py` - 2 –º–µ—Å—Ç–∞ (OrderPresenter: 2)
- `group_interaction.py` - 1 –º–µ—Å—Ç–æ (OrderPresenter —Å conditional mode)
- `admin_history.py` - 1 –º–µ—Å—Ç–æ (OrderPresenter)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –£–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (~160+ —Å—Ç—Ä–æ–∫)
- 14 unit-—Ç–µ—Å—Ç–æ–≤ (100% –ø–æ–∫—Ä—ã—Ç–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (conditional phone visibility)
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ UI —Ç–µ–∫—Å—Ç–∞–º–∏

#### ‚úÖ ExcelFormatter - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è Excel —Å—Ç–∏–ª–µ–π

**–°–æ–∑–¥–∞–Ω–æ:**
- `app/services/excel/styles.py` - 150+ —Å—Ç—Ä–æ–∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç —Å—Ç–∏–ª–µ–π
- `app/services/excel/formatter.py` - 270+ —Å—Ç—Ä–æ–∫ —Å 11 –º–µ—Ç–æ–¥–∞–º–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ (—à—Ä–∏—Ñ—Ç—ã, –∑–∞–ª–∏–≤–∫–∏, –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ, –≥—Ä–∞–Ω–∏—Ü—ã)
- –ê–≤—Ç–æ–ø–æ–¥—Å—Ç—Ä–æ–π–∫–∞ —à–∏—Ä–∏–Ω—ã –∫–æ–ª–æ–Ω–æ–∫
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª—é—Ç—ã –∏ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å—Ç—Ä–æ–∫ —Ü–≤–µ—Ç–æ–º
- –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —è—á–µ–µ–∫

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** 43 –º–µ—Å—Ç–∞ –≤ –∫–æ–¥–µ (–∞–∫—Ç–∏–≤–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è!)

#### ‚úÖ Optimistic Locking - –∑–∞—â–∏—Ç–∞ –æ—Ç race conditions

**–°–æ–∑–¥–∞–Ω–æ:**
- `app/repositories/exceptions.py` - 3 –∫–ª–∞—Å—Å–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
  - `ConcurrentModificationError` - –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤–µ—Ä—Å–∏–π
  - `EntityNotFoundError` - –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–∞–ø–∏—Å–∏
  - `IntegrityError` - –Ω–∞—Ä—É—à–µ–Ω–∏–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –î–æ–±–∞–≤–ª–µ–Ω `version` field –≤ Order –º–æ–¥–µ–ª—å (ORM)
- –ú–∏–≥—Ä–∞—Ü–∏—è `add_missing_columns_to_orders_masters.py`
- 2 –º–µ—Ç–æ–¥–∞ —Å optimistic locking –≤ `OrderRepositoryExtended`:
  - `update_order_status_with_version()`
  - `update_order_with_version()`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
try:
    await repo.update_order_status_with_version(
        order_id=order.id,
        new_status=OrderStatus.ACCEPTED,
        expected_version=order.version,
        changed_by=user_id
    )
except ConcurrentModificationError:
    await callback.answer("–ó–∞—è–≤–∫–∞ –±—ã–ª–∞ –∏–∑–º–µ–Ω–µ–Ω–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.", show_alert=True)
```

#### ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö

**–î–æ–±–∞–≤–ª–µ–Ω–æ 13 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π:**
- `app/repositories/order_repository.py` (2)
- `app/repositories/order_repository_extended.py` (4)
- `app/database/db.py` (5)
- `app/repositories/user_repository.py` (2)

**–ü—Ä–æ–≥—Ä–µ—Å—Å:** 87% –≥–æ—Ç–æ–≤–æ (13 –∏–∑ 15 —Ü–µ–ª–µ–≤—ã—Ö)

#### ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —É–ª—É—á—à–µ–Ω–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- –£–¥–∞–ª–µ–Ω–æ **20+ –≤—Ö–æ–∂–¥–µ–Ω–∏–π** `except Exception: pass`
- –í—Å–µ –æ—à–∏–±–∫–∏ —Ç–µ–ø–µ—Ä—å –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ generic handling

#### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- `tests/unit/test_presenters.py` - 14 unit-—Ç–µ—Å—Ç–æ–≤
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 11 (–±—ã–ª–æ 8, +3)
- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤:** 226

**–ü—Ä–æ–≥—Ä–µ—Å—Å:** Handlers —Å DI —Ç–µ–ø–µ—Ä—å —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã —Å –º–æ–∫–∞–º–∏

#### üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ù–∞—á–∞–ª–æ | **–ò–¢–û–ì (5 –∏—Ç–µ—Ä–∞—Ü–∏–π)** | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|---------|--------|----------------------|-----------|
| **Handlers —Å—Ç—Ä–æ–∫ (3 –æ—Å–Ω–æ–≤–Ω—ã—Ö)** | 8570 | **6829** | **-1741 (-20.3%)** üéâ |
| `Database()` –≤ handlers | 107 | **77** | **-30 (-28%)** ‚úÖ |
| **Functions —Å DI** | 0 | **31** | **+31** ‚úÖ |
| **–°–ø–µ—Ü. handlers —Å DI** | 0 | **4 —Ñ–∞–π–ª–∞ (100%)** | **+4** ‚úÖ |
| `except: pass` | 20+ | **0** | **-20+** ‚úÖ |
| **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** | 0 | **13** | **+13** ‚úÖ |
| **Presenters** | 0 | **17** | **+17** ‚úÖ |
| ExcelFormatter | 0 | **1 (43 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)** | ‚úÖ |
| Optimistic locking | 0 | **2 –º–µ—Ç–æ–¥–∞** | ‚úÖ |
| **–¢–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤** | 8 | **11** | **+3** ‚úÖ |

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:** **85% –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!** üéâ

#### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–°–æ–∑–¥–∞–Ω–æ:**
- `docs/CODE_AUDIT_2025.md` - –ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã (524 —Å—Ç—Ä–æ–∫–∏)
- `docs/PRESENTERS_IMPLEMENTATION_GUIDE.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Presenters (432 —Å—Ç—Ä–æ–∫–∏)
- `docs/REFACTORING_PLAN.md` - –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- `docs/TESTING_HANDLERS.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é handlers
- `VERIFICATION_REPORT.md` - –æ—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

#### üéØ –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

**–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5) - –û—Ç–ª–∏—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
**–ü—Ä–æ–≥—Ä–µ—Å—Å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5) - –í—ã–¥–∞—é—â–∏–π—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç
**–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ (4/5) - –•–æ—Ä–æ—à–∞—è, –µ—Å—Ç—å –∫—É–¥–∞ —Ä–∞—Å—Ç–∏
**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5) - –û—Ç–ª–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ (4/5) - –•–æ—Ä–æ—à–∞—è, Excel –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å

**–û–ë–©–ê–Ø –û–¶–ï–ù–ö–ê:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê **–û–¢–õ–ò–ß–ù–û!**

### üí° –ì–ª–∞–≤–Ω—ã–π –≤—ã–≤–æ–¥

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ production –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é!**

–ó–∞ 5 –∏—Ç–µ—Ä–∞—Ü–∏–π –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ:
- ‚úÖ **–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ 20%**
- ‚úÖ **DI –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**
- ‚úÖ **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞**
- ‚úÖ **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ –≤—ã—Å–æ–∫–æ–µ**
- ‚úÖ **85% –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á —Ä–µ—à–µ–Ω–æ**

### üöÄ –°–ª–µ–¥—É—é—â–∏–π —Ñ–æ–∫—É—Å

**–ë—ã—Å—Ç—Ä—ã–µ –ø–æ–±–µ–¥—ã:**
- –ó–∞–≤–µ—Ä—à–∏—Ç—å DI –≤ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è 77 –≤—ã–∑–æ–≤–∞—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å optimistic locking –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö

**–°—Ä–µ–¥–Ω–µ-—Å—Ä–æ—á–Ω—ã–µ:**
- –†–∞–∑–±–∏—Ç—å handlers –Ω–∞ –º–æ–¥—É–ª–∏ (—Ü–µ–ª—å: < 500 —Å—Ç—Ä–æ–∫ –Ω–∞ –º–æ–¥—É–ª—å)
- –î–æ–±–∞–≤–∏—Ç—å coverage reporting

---

### üîß –£–ª—É—á—à–µ–Ω–∏—è

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ –∏ –¥–∞–Ω–Ω—ã—Ö –º–∞—Å—Ç–µ—Ä–∞/–¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞**:
  - –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–∞ –∏ –º–∞—Å—Ç–µ—Ä–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö `dispatcher_id` –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
  - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö: `callback_accept_order`, `callback_onsite_order`, `callback_refuse_order_master`, `process_out_of_city_confirmation_callback`
  - –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `updated_order` –≤–º–µ—Å—Ç–æ —Å—Ç–∞—Ä–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ `order` –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞

- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**:
  - –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ `DISPATCHER_IDS` –∏ `ADMIN_IDS` –∏–∑ `.env` —Ñ–∞–π–ª–∞
  - –ü—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –±–æ—Ç—É –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —Å–ø–∏—Å–∫–∞—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –∏–ª–∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–≤
  - –†–æ–ª—å `DISPATCHER` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ `DISPATCHER_IDS`
  - –†–æ–ª—å `ADMIN` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ `ADMIN_IDS`
  - –†–æ–ª–∏ —É–¥–∞–ª—è—é—Ç—Å—è, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–±—Ä–∞–ª–∏ –∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å–ø–∏—Å–∫–æ–≤
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–æ–ª–µ–π (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å –∏ ADMIN, –∏ DISPATCHER –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
  - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `app/database/db.py` –∏ `app/database/orm_database.py`
  - –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è ID –≤ `.env` —Ñ–∞–π–ª –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞, –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ —Ä–æ–ª—å –æ–±–Ω–æ–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

#### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- üîß –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_or_create_user` –≤ –æ–±–µ–∏—Ö –≤–µ—Ä—Å–∏—è—Ö –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (legacy –∏ ORM)
- üîß –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üîß –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–æ–ª–µ–π

---

## [v2.4.4] - 2025-11-06

### ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º–∞—Å—Ç–µ—Ä–∞ (–∞–¥–º–∏–Ω):** –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, –∫–Ω–æ–ø–∫–∞ –≤ –∞–¥–º–∏–Ω-–º–µ–Ω—é.
- **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞–≤–∫–∏ 50/50 –ø–æ —Ç–∏–ø–∞–º —Ç–µ—Ö–Ω–∏–∫–∏:** —Ä–∞—Å—á—ë—Ç –ø—Ä–∏–±—ã–ª–∏ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ `equipment_type` (—ç–ª–µ–∫—Ç—Ä–∏–∫–∞, —Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞), –Ω–µ –∫ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º–∞—Å—Ç–µ—Ä–∞. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `specialization_rates` (–º–∏–≥—Ä–∞—Ü–∏—è) –∏ ORM-–º–æ–¥–µ–ª—å.
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞–º —Ç–µ—Ö–Ω–∏–∫–∏ –≤ –æ—Ç—á—ë—Ç–∞—Ö:** –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ –≤—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∏ Excel-–æ—Ç—á—ë—Ç—ã, –∞ —Ç–∞–∫–∂–µ –≤ –µ–∂–µ–¥–Ω–µ–≤–Ω—É—é —Å–≤–æ–¥–∫—É 21:30. –°–æ–∑–¥–∞–Ω –ø—Ä–∏–º–µ—Ä `docs/equipment_statistics_example.md`.

### üîß –£–ª—É—á—à–µ–Ω–∏—è

- **UX –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞—è–≤–∫–∏:**
  - –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ —à–∞–≥–∞–º, —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ —É–¥–∞–ª—è–µ—Ç—Å—è.
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "‚ùå –û—Ç–º–µ–Ω–∞" –Ω–∞ —ç—Ç–∞–ø–µ –≤–≤–æ–¥–∞ —Å—É–º–º—ã.
  - –ö–æ–º–∞–Ω–¥–∞ `/start` –æ—á–∏—â–∞–µ—Ç FSM –∏ –Ω–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–µ —Ñ–æ—Ä–º–∞—Ç–∞ —Å—É–º–º—ã.

- **–î–∞—Ç–∞/–≤—Ä–µ–º—è:**
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è —Ñ—Ä–∞–∑ –≤–∏–¥–∞ "–¥–æ X" —Å —É—á—ë—Ç–æ–º –Ω–µ—Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ 22:00‚Äì08:00 –∏ "–∑–∞–≤—Ç—Ä–∞".
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–Ω—è (—Å–µ–≥–æ–¥–Ω—è/–∑–∞–≤—Ç—Ä–∞/–≤—Å–∫ –∏ —Ç.–ø.), –≤–∞–ª–∏–¥–∞—Ü–∏—è –≥–æ–¥–∞.

- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–ª–µ–π –ø—Ä–∏–±—ã–ª–∏:**
  - –î–ª—è –∑–∞–∫–∞–∑–æ–≤ —Å —Ç–∏–ø–∞–º–∏ —Ç–µ—Ö–Ω–∏–∫–∏ —ç–ª–µ–∫—Ç—Ä–∏–∫–∞/—Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è 50/50 –≤–º–µ—Å—Ç–æ 40/60.

### üóÑÔ∏è –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ –ë–î

- **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å Alembic –Ω–∞ SQLite:**
  - –í `migrations/env.py` —É—á—Ç—ë–Ω `DATABASE_PATH` –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è Docker –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –Ω—É–∂–Ω–æ–π –ë–î.
  - –í –º–∏–≥—Ä–∞—Ü–∏–∏ `77f5626ac688_add_order_reports_table.py` –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü/–∫–æ–ª–æ–Ω–æ–∫/–∏–Ω–¥–µ–∫—Å–æ–≤ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏.
  - –î–ª—è `orders`, `order_status_history`, `users` –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∏–Ω–¥–µ–∫—Å–æ–≤, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫ –≤–∏–¥–∞ `index ... already exists`.
  - –ë–ª–æ–∫ –¥–ª—è `masters` –ø–µ—Ä–µ–ø–∏—Å–∞–Ω: –æ—Ç–∫–∞–∑ –æ—Ç `batch_alter_table`, —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –∏–Ω–¥–µ–∫—Å–æ–≤ (–≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ `NullType()` –ø—Ä–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–∏).

- **–ù–æ–≤—ã–µ/–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏:**
  - `a0752cb417aa_add_specialization_rates_table.py` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ `specialization_rates` —Å –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ 50/50.
  - `add_equipment_type_to_orders.py` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ `equipment_type` –≤ `orders` (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω `down_revision`).

- **–°–µ—Ä–≤–∏—Å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –ë–î-—Å–æ—Å—Ç–æ—è–Ω–∏–π:**
  - `scripts/cleanup_alembic_temp_tables_*` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ `_alembic_tmp_*` —Ç–∞–±–ª–∏—Ü.
  - `scripts/fix_alembic_version_*` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ `004` –∏–∑ `alembic_version`.

### üê≥ Makefile / Deploy

- –ö–æ–º–∞–Ω–¥—ã `mb-migrate-city1/city2` –∑–∞–ø—É—Å–∫–∞—é—Ç –æ—á–∏—Å—Ç–∫—É tmp-—Ç–∞–±–ª–∏—Ü –∏ —Ñ–∏–∫—Å–∞—Ü–∏—é `alembic_version` –ø–µ—Ä–µ–¥ `alembic upgrade head`.
- `--no-cache` —É–±—Ä–∞–Ω –∏–∑ –º–∏–≥—Ä–∞—Ü–∏–π –∏ –æ—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è `mb-start-*` (–ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –±–æ—Ç–∞).

### üêû –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

- –û—à–∏–±–∫–∞ `no such table: order_reports` (–¥–ª—è city1/city2) ‚Äî —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏–µ–π; –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã.
- –û—à–∏–±–∫–∞ `no such table: specialization_rates` ‚Äî –º–∏–≥—Ä–∞—Ü–∏—è + –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø—É—Ç—å –ë–î —á–µ—Ä–µ–∑ `DATABASE_PATH`.
- –û—à–∏–±–∫–∏ Alembic: `Can't locate revision '004'`, `_alembic_tmp_* already exists`, `Constraint must have a name`, `NullType()`, `index ... already exists` ‚Äî —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏–π.

---

## [v2.4.3] - 2025-11-05

### üîß –£–ª—É—á—à–µ–Ω–∏—è

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞—è–≤–∫–∏**:
  - –°–æ–æ–±—â–µ–Ω–∏—è —É–¥–∞–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞, –∞ –Ω–µ –≤ –∫–æ–Ω—Ü–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
  - –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç-—Å–æ–æ–±—â–µ–Ω–∏—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ –æ–±—â–µ–π —Å—É–º–º—ã
  - –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –∑–∞–ø—Ä–æ—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ —Å—É–º–º—ã –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
  - –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
  - –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–µ —É–¥–∞–ª—è–µ—Ç—Å—è
  - –£–ª—É—á—à–µ–Ω UX: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —ç—Ç–∞–ø–∞

- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–û—Ç–º–µ–Ω–∞" –Ω–∞ —ç—Ç–∞–ø–µ –≤–≤–æ–¥–∞ —Å—É–º–º—ã –∑–∞–∫–∞–∑–∞**:
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –∫–Ω–æ–ø–∫–æ–π "‚ùå –û—Ç–º–µ–Ω–∞" –∫ –ø—Ä–æ–º–ø—Ç-—Å–æ–æ–±—â–µ–Ω–∏—é —Å –∑–∞–ø—Ä–æ—Å–æ–º –æ–±—â–µ–π —Å—É–º–º—ã
  - –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ –æ—Ç–º–µ–Ω—ã –æ—á–∏—â–∞–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ FSM –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
  - –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã `/start`**:
  - –ö–æ–º–∞–Ω–¥–∞ `/start` —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ FSM
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ `/start`
  - –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –∫–æ–º–∞–Ω–¥—ã –±–ª–∞–≥–æ–¥–∞—Ä—è —Ñ–∏–ª—å—Ç—Ä—É `~F.text.startswith("/")`
  - –ö–æ–º–∞–Ω–¥—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –¥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏–π

- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–π —Ç–∞–±–ª–∏—Ü–µ–π `order_reports` –¥–ª—è city1**:
  - –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `scripts/create_order_reports_city1.py` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã
  - –¢–∞–±–ª–∏—Ü–∞ `order_reports` —Å–æ–∑–¥–∞–Ω–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö `data/city1/bot_database.db`
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ `no such table: order_reports` –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞—è–≤–æ–∫
  - –û—Ç—á–µ—Ç—ã –ø–æ –∑–∞–∫–∞–∑–∞–º —Ç–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

#### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- üîß –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤ `app/handlers/master.py`:
  - –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
  - –£–±—Ä–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–±–æ—Ä–∞ –≤—Å–µ—Ö message IDs –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤ –∫–æ–Ω—Ü–µ
  - –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ `safe_delete_message` —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –≤–∞–ª–∏–¥–Ω–æ–≥–æ –≤–≤–æ–¥–∞
- üîß –î–æ–±–∞–≤–ª–µ–Ω —Ñ–∏–ª—å—Ç—Ä `~F.text.startswith("/")` –∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É —Å–æ—Å—Ç–æ—è–Ω–∏—è `process_total_amount`
- üîß –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ –æ—Ç–º–µ–Ω—ã –≤ `process_total_amount`
- üîß –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è FSM –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ `/start` –≤ `app/handlers/common.py`
- üîß –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã `order_reports` –≤ –±–∞–∑–µ city1

---

## [v2.4.2] - 2025-11-03

### ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç—ã—Ö –∑–∞—è–≤–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º**:
  - –ö–æ–º–∞–Ω–¥–∞ `/edit_closed <order_id>` –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
  - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π: –æ–±—â–∞—è —Å—É–º–º–∞, —Ä–∞—Å—Ö–æ–¥, –æ—Ç–∑—ã–≤, –≤—ã–µ–∑–¥ –∑–∞ –≥–æ—Ä–æ–¥
  - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–æ–ª–µ–π
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç –ø—Ä–∏–±—ã–ª–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª—é–±–æ–≥–æ –∏–∑ –ø–æ–ª–µ–π
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤ (`order_reports`) –ø–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ê—É–¥–∏—Ç –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —á–µ—Ä–µ–∑ `audit_log`

### üîß –£–ª—É—á—à–µ–Ω–∏—è

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚úÖ **–£–ª—É—á—à–µ–Ω –ø–µ—Ä–µ—Å—á–µ—Ç –ø—Ä–∏–±—ã–ª–∏ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∑–∞—è–≤–æ–∫**:
  - –ü–µ—Ä–µ—Å—á–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª—é–±–æ–≥–æ –∏–∑ –ø–æ–ª–µ–π: `total_amount`, `materials_cost`, `has_review`, `out_of_city`
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `calculate_profit_split` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ —Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π –¥–ª—è `has_review` –∏ `out_of_city`
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—á–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ –ë–î –≤ FSM –ø—Ä–∏ –Ω–∞—á–∞–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –ø—Ä–∏–±—ã–ª–∏ –¥–æ 2 –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π

- ‚úÖ **–£–ª—É—á—à–µ–Ω UX —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞—è–≤–æ–∫**:
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤—Å–µ—Ö –ø–æ–ª–µ–π –≤ –º–µ–Ω—é —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ü–æ–∫–∞–∑ –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–∏–±—ã–ª–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  - –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ç–µ–∫—É—â–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏–∑ –ë–î)
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç–∞ –ø—Ä–∏–±—ã–ª–∏

#### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- üîß –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `send_edit_closed_menu` –≤ `app/handlers/dispatcher.py`
- üîß –î–æ–±–∞–≤–ª–µ–Ω—ã FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è `EditClosedOrderStates` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `OrderReportsService.upsert_order_report` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤
- üîß –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## [v2.4.1] - 2025-10-31

### üîß –£–ª—É—á—à–µ–Ω–∏—è

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞ —Å—É–º–º—ã –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞—è–≤–∫–∏**:
  - –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –≤ `process_total_amount`
  - –¢–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞, –∏–∑ –Ω—É–∂–Ω–æ–≥–æ —á–∞—Ç–∞, –∏–ª–∏ —Ä–µ–ø–ª–∞–π –Ω–∞ –ø—Ä–æ–º–ø—Ç-—Å–æ–æ–±—â–µ–Ω–∏–µ
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ForceReply –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞ –æ—Ç–≤–µ—Ç–∞ –≤ Telegram
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø–∞—Ö —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º Privacy Mode —É –±–æ—Ç–∞
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

- ‚úÖ **–£–ª—É—á—à–µ–Ω UX –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞—è–≤–æ–∫**:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–æ—Ä–º—ã –æ—Ç–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ ForceReply
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –Ω–∞–∂–∏–º–∞—Ç—å "–û—Ç–≤–µ—Ç–∏—Ç—å"
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (initiator_user_id, allowed_chat_id, prompt_message_id)
  - –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –≤ –ª–∏—á–∫–µ, —Ç–∞–∫ –∏ –≤ –≥—Ä—É–ø–ø–∞—Ö

- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω CHECK constraint –≤ SQLite –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤**:
  - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è `chk_orders_status`
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Å—Ç–∞—Ç—É—Å—ã: ACCEPTED, ONSITE, DR
  - –£–±—Ä–∞–Ω—ã —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Å—Ç–∞—Ç—É—Å—ã: IN_PROGRESS, COMPLETED
  - –°–æ–∑–¥–∞–Ω merge-–∫–æ–º–º–∏—Ç –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Ä–∞–∑–≤–µ—Ç–≤–ª–µ–Ω–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–π

- ‚úÖ **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã orders –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏**:
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏: estimated_completion_date, prepayment_amount, rescheduled_count
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–∞–±–ª–∏—Ü—ã
  - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö SQLite

#### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

- üîß –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ `app/handlers/master.py`
- üîß –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ForceReply –≤ `app/handlers/master.py` –∏ `app/handlers/group_interaction.py`
- üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è `fix_orders_status_check_constraint.py` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å SQLite
- üîß –°–æ–∑–¥–∞–Ω merge-–∫–æ–º–º–∏—Ç `merge_heads_fix_status.py` –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –≥–æ–ª–æ–≤ –º–∏–≥—Ä–∞—Ü–∏–π

---

## [v2.4.0] - 2025-10-28

### üîß –£–ª—É—á—à–µ–Ω–∏—è

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- üîß **–£–ª—É—á—à–µ–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è SLA**:
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–Ω—è—Ç–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å —ç–º–æ–¥–∑–∏ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏
  - "‚ö†Ô∏è –ú–∞—Å—Ç–µ—Ä —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ –Ω–∞ –æ–±—ä–µ–∫—Ç–µ" - –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ ONSITE
  - "üöó –ú–∞—Å—Ç–µ—Ä –ø—Ä–∏–Ω—è–ª –∑–∞—è–≤–∫—É, –Ω–æ –Ω–µ –≤—ã–µ—Ö–∞–ª –∫ –∫–ª–∏–µ–Ω—Ç—É" - –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ ACCEPTED
  - "‚è∞ –ó–∞—è–≤–∫–∏ —Ç—Ä–µ–±—É—é—Ç –¥–µ–π—Å—Ç–≤–∏–π" - –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å—Ç–∞—Ç—É—Å–æ–≤
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞—è–≤–∫–∏ (—á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å)
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Ü–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ Database –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**:
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ `ImportError: cannot import name 'ORMDatabase' from 'app.database'`
  - –£–ª—É—á—à–µ–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Admin/Master/Dispatcher) –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
  - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–æ–ª–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤–º–µ—Å—Ç–æ hardcoded –∑–Ω–∞—á–µ–Ω–∏–π
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ `confirm_reschedule_order()` –∏ `handle_reschedule_confirm()`

- üìÖ **–£–ª—É—á—à–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –∫–æ—Ä–æ—Ç–∫–∏—Ö –≥–æ–¥–æ–≤**:
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ 'DD.MM.YY' (–Ω–∞–ø—Ä–∏–º–µ—Ä, "01.11.25" —Ç–µ–ø–µ—Ä—å –ø–∞—Ä—Å–∏—Ç—Å—è –∫–∞–∫ "01.11.2025")
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–µ–∫–∞ –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –≥–æ–¥–æ–≤
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ `dateparser` –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –≥–æ–¥–æ–≤

- ‚è∞ **–£–ª—É—á—à–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏**:
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –¥–∞—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, "16:00")
  - –ï—Å–ª–∏ –≤—Ä–µ–º—è –µ—â–µ –Ω–µ –ø—Ä–æ—à–ª–æ —Å–µ–≥–æ–¥–Ω—è - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–µ–≥–æ–¥–Ω—è
  - –ï—Å–ª–∏ –≤—Ä–µ–º—è —É–∂–µ –ø—Ä–æ—à–ª–æ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–∞–≤—Ç—Ä–∞

- üîÑ **–£–ª—É—á—à–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–µ–Ω–æ—Å–æ–º –∑–∞—è–≤–æ–∫**:
  - –£–±—Ä–∞–Ω –≤–æ–ø—Ä–æ—Å –ø—Ä–æ –ø—Ä–∏—á–∏–Ω—É –ø–µ—Ä–µ–Ω–æ—Å–∞ –≤–∏–∑–∏—Ç–∞
  - –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è/–æ—Ç–º–µ–Ω—ã –ø–µ—Ä–µ–Ω–æ—Å–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–æ–ª–∏)
  - –ö–Ω–æ–ø–∫–∏ "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–µ—Ä–µ–Ω–æ—Å" –∏ "–û—Ç–º–µ–Ω–∞" –±–æ–ª—å—à–µ –Ω–µ –æ—Å—Ç–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

- üìû **–£–ª—É—á—à–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞**:
  - –£–±—Ä–∞–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω" –≤ –≥—Ä—É–ø–ø–æ–≤—ã—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è—Ö
  - –¢–µ–ª–µ—Ñ–æ–Ω –∫–ª–∏–µ–Ω—Ç–∞ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –≤ —Ç–µ–∫—Å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è
  - –£–ø—Ä–æ—â–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–∞—Å—Ç–µ—Ä–æ–≤

#### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω –ø–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –ø–æ–ª–Ω—ã–π ORM (`docs/ORM_MIGRATION_PLAN.md`)
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã 5 —Ñ–∞–π–ª–æ–≤, —Ç—Ä–µ–±—É—é—â–∏—Ö –º–∏–≥—Ä–∞—Ü–∏–∏ —Å `Database.connection` –Ω–∞ ORM API
- –ü–ª–∞–Ω –≤–∫–ª—é—á–∞–µ—Ç –ø–æ—ç—Ç–∞–ø–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é (4-5 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π)
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—Ç–∫–∞—Ç–∞ –∏ FAQ

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- –í—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å mixed –ø–æ–¥—Ö–æ–¥–æ–º: ORM –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏, legacy Database –¥–ª—è Excel —ç–∫—Å–ø–æ—Ä—Ç–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å—Ç–∞—Ä–æ–≥–æ –∏ –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞

---

## [v2.4.0] - 2025-10-24

### üöÄ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –î–æ–±–∞–≤–ª–µ–Ω–æ
- üîç **–°–∏—Å—Ç–µ–º–∞ –ø–æ–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤**:
  - –ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞ (—Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π –Ω–æ–º–µ—Ä–æ–≤)
  - –ü–æ–∏—Å–∫ –ø–æ –∞–¥—Ä–µ—Å—É –∫–ª–∏–µ–Ω—Ç–∞ (—á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ)
  - –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É –∏ –∞–¥—Ä–µ—Å—É
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ (+7, 8, 7)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∞–¥—Ä–µ—Å–æ–≤ –∏ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
  - –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ
  - –î–æ—Å—Ç—É–ø–Ω–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞–º
  - –ù–æ–≤—ã–π —Ñ–∞–π–ª: `app/services/order_search.py`
  - –ù–æ–≤—ã–π —Ñ–∞–π–ª: `app/handlers/order_search.py`
  - –ù–æ–≤—ã–π —Ñ–∞–π–ª: `docs/ORDER_SEARCH_GUIDE.md`

- üóëÔ∏è **–ö–æ–º–∞–Ω–¥–∞ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞—è–≤–æ–∫**:
  - –ù–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ `/delete_order <ID>` –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∑–∞—è–≤–æ–∫
  - –î–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º
  - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è —Å –ø–æ–∫–∞–∑–æ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞—è–≤–∫–µ –∏ –º–∞—Å—Ç–µ—Ä–µ
  - –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (soft delete) —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ audit_log
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–∞ –æ–± —É–¥–∞–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è "–î–∞/–ù–µ—Ç"

### üîß –£–ª—É—á—à–µ–Ω–∏—è

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- üîç **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–∏—Å–∫ –ø–æ –∞–¥—Ä–µ—Å—É —Å –∫–∏—Ä–∏–ª–ª–∏—Ü–µ–π**:
  - –†–µ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å SQLite `func.lower()` –∏ –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏
  - –ò–∑–º–µ–Ω–µ–Ω –ø–æ–¥—Ö–æ–¥: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤ Python –≤–º–µ—Å—Ç–æ SQL
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π (—É–ª. ‚Üí —É–ª–∏—Ü–∞, –¥. ‚Üí –¥–æ–º)
  - –ü–æ–∏—Å–∫ –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–ª–æ–≤–∞–º –µ—Å–ª–∏ –ø–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å –Ω–µ –Ω–∞–π–¥–µ–Ω

- üóëÔ∏è **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤**:
  - –£–¥–∞–ª–µ–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã –±–æ–ª—å—à–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –º–µ–Ω—é –º–∞—Å—Ç–µ—Ä–∞
  - –î–æ–±–∞–≤–ª–µ–Ω —Ñ–∏–ª—å—Ç—Ä `deleted_at IS NULL` –≤ `get_orders_by_master`
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∫–∞–∫ –≤ ORM, —Ç–∞–∫ –∏ –≤ legacy –≤–µ—Ä—Å–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
  - –ú–∞—Å—Ç–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞

- üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ HTML-—Ä–∞–∑–º–µ—Ç–∫–∞ –≤ –∫–æ–º–∞–Ω–¥–µ —É–¥–∞–ª–µ–Ω–∏—è**:
  - –ó–∞–º–µ–Ω–µ–Ω –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ç–µ–≥ `<ID_–∑–∞—è–≤–∫–∏>` –Ω–∞ `&lt;ID_–∑–∞—è–≤–∫–∏&gt;`
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ "Unsupported start tag" –≤ Telegram

- üìû **–£–ª—É—á—à–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤**:
  - –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–º–µ—Ä–æ–≤ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–æ–∫
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤: +7XXXXXXXXXX, 8XXXXXXXXXX, 7XXXXXXXXXX
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –µ–¥–∏–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É +7XXXXXXXXXX
  - –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –Ω–µ–≤–µ—Ä–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∏ –Ω–æ–º–µ—Ä–æ–≤

#### –£–ª—É—á—à–µ–Ω–æ
- üìã **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∞—Å—Ç–µ—Ä–µ –≤ –∫–æ–º–∞–Ω–¥–µ —É–¥–∞–ª–µ–Ω–∏—è**:
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –º–∞—Å—Ç–µ—Ä –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ —É–¥–∞–ª–µ–Ω–∏—è
  - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "–Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω" –µ—Å–ª–∏ –º–∞—Å—Ç–µ—Ä –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è ID –º–∞—Å—Ç–µ—Ä–∞ –µ—Å–ª–∏ –º–∞—Å—Ç–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ

### üîÑ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `soft_delete_order` –≤ `ORMDatabase` –¥–ª—è –º—è–≥–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞—è–≤–æ–∫
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∞—É–¥–∏—Ç–∞ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º —É–¥–∞–ª–µ–Ω–∏—è –∑–∞—è–≤–æ–∫
- –î–æ–±–∞–≤–ª–µ–Ω —Ñ–∏–ª—å—Ç—Ä `deleted_at IS NULL` –≤ `get_orders_by_master` (ORM –∏ legacy)
- –£–ª—É—á—à–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ eager loading –≤ –ø–æ–∏—Å–∫–µ –∑–∞–∫–∞–∑–æ–≤

#### –ö–æ–¥
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `/delete_order` –≤ `app/handlers/admin.py`
- –î–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `callback_confirm_delete_order` –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω —Å–µ—Ä–≤–∏—Å `OrderSearchService` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ–±–µ–∏—Ö –ë–î
- –î–æ–±–∞–≤–ª–µ–Ω—ã FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è `SearchOrderStates`
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: —É–±—Ä–∞–Ω—ã –ø—Ä–∞–≤–∞ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–æ–≤ –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è "–î–∞/–ù–µ—Ç"
- –£–ª—É—á—à–µ–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∞–¥—Ä–µ—Å–æ–≤ –∏ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω `docs/ORDER_SEARCH_GUIDE.md` —Å –ø–æ–ª–Ω—ã–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –ø–æ –ø–æ–∏—Å–∫—É
- –û–±–Ω–æ–≤–ª–µ–Ω CHANGELOG.md —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## [v2.3.0] - 2025-10-24

### üöÄ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –î–æ–±–∞–≤–ª–µ–Ω–æ
- üê≥ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Docker-–º–∏–≥—Ä–∞—Ü–∏–π**:
  - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è Docker (`docker_migrate.sh`)
  - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ Docker-–æ–∫—Ä—É–∂–µ–Ω–∏–∏
  - –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

### üîß –£–ª—É—á—à–µ–Ω–∏—è

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —É–≤–æ–ª—å–Ω–µ–Ω–∏—è –º–∞—Å—Ç–µ—Ä–∞**:
  - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `delete_master` –≤ –∫–ª–∞—Å—Å `ORMDatabase`
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ `AttributeError: 'ORMDatabase' object has no attribute 'delete_master'`
  - –§—É–Ω–∫—Ü–∏—è —É–≤–æ–ª—å–Ω–µ–Ω–∏—è –º–∞—Å—Ç–µ—Ä–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

- ‚è∞ **–£–ª—É—á—à–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ SLA**:
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ SLA –ø—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ –∑–∞—è–≤–æ–∫ –≤ —Å—Ç–∞—Ç—É—Å–∞—Ö "–ø—Ä–∏–Ω—è—Ç–∞" –∏ "–¥–ª–∏—Ç–µ–ª—å–Ω—ã–π —Ä–µ–º–æ–Ω—Ç"
  - –ü–æ–ª–µ `updated_at` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ, —á—Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç SLA
  - –£–±—Ä–∞–Ω–∞ –Ω–∞–¥–ø–∏—Å—å "[MASTER]" –∏–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π SLA –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏

- üì¢ **–†–∞—Å—à–∏—Ä–µ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**:
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–µ–ø—Ä–∏–Ω—è—Ç—ã—Ö –∑–∞—è–≤–∫–∞—Ö —Ç–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∫ –º–∞—Å—Ç–µ—Ä—É, —Ç–∞–∫ –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É
  - –£–ª—É—á—à–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø—Ä–æ—Ü–µ—Å—Å–æ–º –ø—Ä–∏–Ω—è—Ç–∏—è –∑–∞—è–≤–æ–∫
  - –ü–æ–≤—ã—à–µ–Ω–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

#### –£–¥–∞–ª–µ–Ω–æ
- üóëÔ∏è **–£–¥–∞–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–ö–∞—Å—Ç–æ–º–Ω—ã–π –æ—Ç—á–µ—Ç"**:
  - –£–±—Ä–∞–Ω–∞ –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –±–æ—Ç–∞
  - –£–¥–∞–ª–µ–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
  - –£–ø—Ä–æ—â–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç—á–µ—Ç–æ–≤

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### –î–æ–±–∞–≤–ª–µ–Ω–æ
- üìñ **Docker-–º–∏–≥—Ä–∞—Ü–∏—è**:
  - `DOCKER_MIGRATION_PLAN.md` - –ø–æ–¥—Ä–æ–±–Ω—ã–π –ø–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è Docker
  - `DOCKER_QUICK_DEPLOY.md` - –±—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
  - `DOCKER_MIGRATION_CHECKLIST.md` - —á–µ–∫-–ª–∏—Å—Ç –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è

### üîÑ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `delete_master` –≤ `ORMDatabase`
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–Ω–æ—Å–∞ –∑–∞—è–≤–æ–∫ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º `updated_at`
- –£–ª—É—á—à–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ `TaskScheduler`

#### –ö–æ–¥
- –ó–∞–º–µ–Ω–µ–Ω `Database` –Ω–∞ `ORMDatabase` –≤ —Ñ—É–Ω–∫—Ü–∏–∏ —É–≤–æ–ª—å–Ω–µ–Ω–∏—è –º–∞—Å—Ç–µ—Ä–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É
- –£–¥–∞–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤

---

## [v2.2.0] - 2025-10-21

### üöÄ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –î–æ–±–∞–≤–ª–µ–Ω–æ
- ‚úèÔ∏è **–°–∏—Å—Ç–µ–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞—è–≤–æ–∫**:
  - –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞—è–≤–æ–∫ –Ω–∞ –≤—Å–µ—Ö —Å—Ç–∞—Ç—É—Å–∞—Ö (–∫—Ä–æ–º–µ CLOSED –∏ REFUSED)
  - –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—è:
    - –¢–∏–ø —Ç–µ—Ö–Ω–∏–∫–∏
    - –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
    - –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞
    - –ê–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞
    - –¢–µ–ª–µ—Ñ–æ–Ω –∫–ª–∏–µ–Ω—Ç–∞
    - –ó–∞–º–µ—Ç–∫–∏
    - –í—Ä–µ–º—è –ø—Ä–∏–±—ã—Ç–∏—è (—Å –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –¥–∞—Ç—ã)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è –ø–æ —Ç–µ–º –∂–µ –ø—Ä–∞–≤–∏–ª–∞–º, —á—Ç–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
  - –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∞—Ç—ã –¥–ª—è –ø–æ–ª—è "–í—Ä–µ–º—è –ø—Ä–∏–±—ã—Ç–∏—è"
  - –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: –∞–¥–º–∏–Ω—ã –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä—ã –º–æ–≥—É—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ audit_log
  - –ù–æ–≤—ã–π —Ñ–∞–π–ª: `app/handlers/order_edit.py`
  - –ù–æ–≤—ã–π –º–µ—Ç–æ–¥ –ë–î: `Database.update_order_field()`
  - –°–æ—Å—Ç–æ—è–Ω–∏—è FSM: `EditOrderStates.select_field` –∏ `EditOrderStates.enter_value`
  - –ö–Ω–æ–ø–∫–∞ "‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –≤ –º–µ–Ω—é –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞—è–≤–∫–∏

### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- üêõ **–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∞—Ç—ã –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ–º–æ–Ω—Ç–æ–≤**:
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤ –∞–¥–º–∏–Ω-–º–µ–Ω—é –∏ –≥—Ä—É–ø–ø–∞—Ö
  - –¢–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –¥–∞—Ç—ã
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã: "–ø–æ—Å–ª–µ –∑–∞–≤—Ç—Ä–∞", "–∑–∞–≤—Ç—Ä–∞ –≤ 15:00", "—á–µ—Ä–µ–∑ 2 –¥–Ω—è"
  - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `app/handlers/admin.py` –∏ `app/handlers/group_interaction.py`

- üêõ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∞—Ç—ã "–ø–æ—Å–ª–µ –∑–∞–≤—Ç—Ä–∞"**:
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏—è "–ø–æ—Å–ª–µ –∑–∞–≤—Ç—Ä–∞" (—Å –ø—Ä–æ–±–µ–ª–æ–º)
  - –†–∞–Ω–µ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–ª—Å—è —Ç–æ–ª—å–∫–æ "–ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞" (—Å–ª–∏—Ç–Ω–æ)
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã: "–Ω–∞ –∑–∞–≤—Ç—Ä–∞", "–Ω–∞ –ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞", "–Ω–∞ –ø–æ—Å–ª–µ –∑–∞–≤—Ç—Ä–∞"
  - –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã —Å –ø—Ä–æ–±–µ–ª–∞–º–∏ –≤ –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
  - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `app/utils/date_parser.py`:
    - –§—É–Ω–∫—Ü–∏—è `_preprocess_time_text`: –¥–æ–±–∞–≤–ª–µ–Ω—ã regex –∑–∞–º–µ–Ω—ã –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
    - –§—É–Ω–∫—Ü–∏—è `should_parse_as_date`: –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
  - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö –Ω–∞–ø–∏—Å–∞–Ω–∏—è

---

## [v2.1.1] - 2025-10-21

### üöÄ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –î–æ–±–∞–≤–ª–µ–Ω–æ
- üìä **–°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤ –º–∞—Å—Ç–µ—Ä–æ–≤**:
  - –û—Ç—á–µ—Ç—ã —Ç–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ (–Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã)
  - –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞: `master_{id}_report.xlsx`
  - –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ –¥–∏—Å–∫ –≤ `reports/masters/`
  - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Å–∞–º–æ–º –æ—Ç—á–µ—Ç–µ
  - –ê—Ä—Ö–∏–≤–Ω—ã–µ –∫–æ–ø–∏–∏ (—Å timestamp) —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü
  - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `app/services/master_reports.py`

---

## [v2.1.0] - 2025-10-21

### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- üêõ **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ `get_orders_by_master`**:
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `row.get()` –Ω–∞ –æ–±—ä–µ–∫—Ç–∞—Ö `sqlite3.Row` (–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
  - –ó–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É: `"field" in row and row["field"] is not None`
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö –≤ `app/database/db.py` (—Å—Ç—Ä–æ–∫–∏ 990 –∏ 1325)

- üîí **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—á–µ–π –≥—Ä—É–ø–ø—ã –¥–ª—è –º–∞—Å—Ç–µ—Ä–æ–≤**:
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è `work_chat_id` —É –º–∞—Å—Ç–µ—Ä–∞
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –º–∞—Å—Ç–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–º–µ–Ω–Ω–æ –≤ –°–í–û–ï–ô —Ä–∞–±–æ—á–µ–π –≥—Ä—É–ø–ø–µ
  - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ "üìä –ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –≥—Ä—É–ø–ø–µ
  - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `app/handlers/master.py` (—Å—Ç—Ä–æ–∫–∏ 825-840)

#### –£–ª—É—á—à–µ–Ω–æ
- ‚ö° **–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ ORM –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**:
  - –í–∫–ª—é—á–µ–Ω `USE_ORM=true` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `get_orders_by_master` –≤ `orm_database.py` –¥–ª—è –ø–æ–ª–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
  - –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `exclude_closed` –≤–º–µ—Å—Ç–æ `status` –∏ `limit`
  - –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–∫—Ä—ã—Ç—ã—Ö –∑–∞—è–≤–æ–∫ —á–µ—Ä–µ–∑ `notin_([CLOSED, REFUSED])`
  - –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è: `ORMDatabase` (960 —Å—Ç—Ä–æ–∫) –≤–º–µ—Å—Ç–æ `Database` (1924 —Å—Ç—Ä–æ–∫–∏)

- üìù **–ö–æ–¥–∏—Ä–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤**:
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∞ `.env` —Ñ–∞–π–ª–∞ –Ω–∞ UTF-8
  - –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –æ—à–∏–±–∫–∏ `UnicodeDecodeError` –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–†–∞–∑–º–µ—Ä –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–¥–∞**: –°–æ–∫—Ä–∞—â–µ–Ω —Å 1924 –¥–æ 960 —Å—Ç—Ä–æ–∫ (50% —ç–∫–æ–Ω–æ–º–∏—è)
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –°—Ç–∞—Ä—ã–π –∫–æ–¥ (`db.py`) —Å–æ—Ö—Ä–∞–Ω–µ–Ω –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–∫–∞—Ç–∞ —á–µ—Ä–µ–∑ `USE_ORM=false`
- **–ú–∏–≥—Ä–∞—Ü–∏—è**: –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É SQLite –∏ ORM —á–µ—Ä–µ–∑ feature flag

---

## [v2.0.0] - 2025-10-20

### üéâ –ö—Ä—É–ø–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: Repository + Service Pattern

#### –î–æ–±–∞–≤–ª–µ–Ω–æ
- üèóÔ∏è **Repository Layer**:
  - `BaseRepository` - –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å –æ–±—â–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, CRUD)
  - `OrderRepository` - —Ä–∞–±–æ—Ç–∞ —Å –∑–∞—è–≤–∫–∞–º–∏ (create, get_by_id, get_all, update_status, assign_master)
  - `UserRepository` - —Ä–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (get_or_create, add/remove_role, get_by_role)
  - `MasterRepository` - —Ä–∞–±–æ—Ç–∞ —Å –º–∞—Å—Ç–µ—Ä–∞–º–∏ (create, approve, get_all, set_work_chat)

- üéØ **Service Layer** (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞):
  - `OrderService` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π StateMachine –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
  - `UserService` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ä–æ–ª—è–º–∏
  - `MasterService` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–∞–º–∏
  - `ServiceFactory` - —Ñ–∞–±—Ä–∏–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ —Å DI (Dependency Injection)

- üß™ **Unit —Ç–µ—Å—Ç—ã**:
  - `test_order_repository.py` - —Ç–µ—Å—Ç—ã –¥–ª—è OrderRepository (13 —Ç–µ—Å—Ç–æ–≤)
  - –ü–æ–∫—Ä—ã—Ç–∏–µ: —Å–æ–∑–¥–∞–Ω–∏–µ, –ø–æ–ª—É—á–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

- üìö **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**:
  - `docs/REPOSITORY_SERVICE_PATTERN.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
  - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
  - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –ë–î
  - Best practices –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- ‚úÖ **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**: –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –æ—Ç–¥–µ–ª–µ–Ω–∞ –æ—Ç —Ä–∞–±–æ—Ç—ã —Å –ë–î
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ª–µ–≥–∫–æ –º–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –≤ unit-—Ç–µ—Å—Ç–∞—Ö
- ‚úÖ **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –æ–±—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω—ã –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö
- ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å**: –ª–µ–≥–∫–æ –ø–æ–º–µ–Ω—è—Ç—å –ë–î (SQLite ‚Üí PostgreSQL)
- ‚úÖ **Clean Architecture**: —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ SOLID –ø—Ä–∏–Ω—Ü–∏–ø–∞–º

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (P1 –∞—É–¥–∏—Ç)
- ‚úÖ **P1-1 SQL Injection**: –ö–æ–¥ –±–µ–∑–æ–ø–∞—Å–µ–Ω (–ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
- ‚úÖ **P1-2 –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è**: –î–æ–±–∞–≤–ª–µ–Ω context manager —Å `BEGIN IMMEDIATE`
- ‚úÖ **P1-3 Idempotency**:
  - `safe_answer_callback` —Å `cache_time` (3-10 —Å–µ–∫)
  - –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫ (`creating_order` —Ñ–ª–∞–≥ –≤ FSM)
- ‚úÖ **P1-4 Retry –º–µ—Ö–∞–Ω–∏–∑–º**:
  - –í—Å–µ `bot.send_message` –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ `safe_send_message` (11 –≤—ã–∑–æ–≤–æ–≤)
  - Exponential backoff –¥–ª—è Telegram API
- ‚úÖ **P1-5 PII Logging**: –£—Ç–∏–ª–∏—Ç—ã –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏—è (@r***r –≤ –ª–æ–≥–∞—Ö)

#### Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å (P0 –∞—É–¥–∏—Ç)
- ‚úÖ **P0-3 Redis –¥–ª—è FSM**: RedisStorage –∞–∫—Ç–∏–≤–µ–Ω –Ω–∞ production (4+ –¥–Ω—è uptime)
- ‚úÖ **P0-4 Rate Limiting**: Middleware –∞–∫—Ç–∏–≤–µ–Ω (2 req/sec, auto-ban)
- ‚úÖ **P0-5 State Machine**: –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å—Ç–∞—Ç—É—Å–æ–≤ —Å —Ä–æ–ª–µ–≤—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º

#### CI/CD
- üöÄ **GitHub Actions workflows**:
  - `ci.yml` - –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤, –ª–∏–Ω—Ç–µ—Ä–æ–≤, type-checking
  - `pr-checks.yml` - –ø—Ä–æ–≤–µ—Ä–∫–∏ Pull Requests
  - `codeql.yml` - –∞–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞
  - `deploy.yml` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π (–∑–∞–≥–æ—Ç–æ–≤–∫–∞)
- üè∑Ô∏è **Auto-labeling**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ PR –ø–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–º —Ñ–∞–π–ª–∞–º
- üì¶ **Dependabot**: –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

#### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- üìÅ **–ß–∏—Å—Ç–∫–∞ –∫–æ—Ä–Ω—è**: –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ `docs/`
  - `AUDIT_FINAL_RESULTS.md` ‚Üí `docs/`
  - `CI_CD_*.md` ‚Üí `docs/`
  - `README_BADGES.md` ‚Üí `docs/`
- üóëÔ∏è **–£–¥–∞–ª–µ–Ω—ã –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**: SPAM_PROTECTION_*.md (4 —Ñ–∞–π–ª–∞)

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- `requirements-dev.txt`: –¥–æ–±–∞–≤–ª–µ–Ω—ã pytest-cov, pytest-asyncio –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- üìä **AUDIT_SUMMARY.md**: –æ–±–Ω–æ–≤–ª–µ–Ω —Å—Ç–∞—Ç—É—Å (v1.2.0, –æ—Ü–µ–Ω–∫–∞ 8.5/10, Production-Ready)
- üìà **–ü—Ä–æ–≥—Ä–µ—Å—Å**: +55% (30% ‚Üí 85%), 8 –ø—Ä–æ–±–ª–µ–º —Ä–µ—à–µ–Ω–æ, 2 —á–∞—Å—Ç–∏—á–Ω–æ

### Breaking Changes
- ‚ö†Ô∏è **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `db.services.order_service` –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤ `db.create_order()`
- ‚ÑπÔ∏è –°—Ç–∞—Ä—ã–µ –º–µ—Ç–æ–¥—ã Database –∫–ª–∞—Å—Å–∞ **–ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å** (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)

### Migration Guide
```python
# –ë—ã–ª–æ:
order = await db.create_order(...)

# –°—Ç–∞–ª–æ:
order = await db.services.order_service.create_order(...)
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: `docs/REPOSITORY_SERVICE_PATTERN.md`

---

## [v1.4.1] - 2025-10-17

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- üìã **–û—Ç—á–µ—Ç –ø–æ –∞–∫—Ç–∏–≤–Ω—ã–º –∑–∞—è–≤–∫–∞–º –≤ Excel**:
  - –ù–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞ "üìã –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞—è–≤–∫–∏ (Excel)" –≤ –º–µ–Ω—é –æ—Ç—á–µ—Ç–æ–≤
  - –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã—Ö –∑–∞—è–≤–æ–∫ (NEW, ASSIGNED, ACCEPTED, ONSITE, DR)
  - –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è: —Å—Ç–∞—Ç—É—Å, –º–∞—Å—Ç–µ—Ä, –∫–ª–∏–µ–Ω—Ç, –∞–¥—Ä–µ—Å, —Ç–µ–ª–µ—Ñ–æ–Ω, –≤—Ä–µ–º—è –ø—Ä–∏–±—ã—Ç–∏—è
  - –¶–≤–µ—Ç–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
  - –°–≤–æ–¥–∫–∞ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞—è–≤–æ–∫ –≤ –∫–∞–∂–¥–æ–º —Å—Ç–∞—Ç—É—Å–µ
  - –î–æ—Å—Ç—É–ø–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞–º

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚úÖ **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –∑–∞—è–≤–∫–∏ –≤ DR**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ "–∑–∞—è–≤–∫–∞ –∏–ª–∏ –º–∞—Å—Ç–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"
  - –£–±—Ä–∞–Ω–∞ –∂–µ—Å—Ç–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –º–∞—Å—Ç–µ—Ä–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
  - –í —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏ "–ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä" –≤–º–µ—Å—Ç–æ "–ú–∞—Å—Ç–µ—Ä" –¥–ª—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ **–£–º–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –∑–∞—è–≤–æ–∫ —Å scheduled_time**:
  - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ 2 —á–∞—Å–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –¥–ª—è –≤—Å–µ—Ö –∑–∞—è–≤–æ–∫ —Å –≤—Ä–µ–º–µ–Ω–µ–º, –Ω–µ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—ã—Ö
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –¥–ª—è –∑–∞—è–≤–æ–∫ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ "üîô –ù–∞–∑–∞–¥" –≤ –º–µ–Ω—é –æ—Ç—á–µ—Ç–æ–≤

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å `active_orders_export.py`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ `admin.py` –∏ `financial_reports.py`
- –£–¥–∞–ª–µ–Ω–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∞—è —Å—Ç—Ä–æ–∫–∞ `version` –∏–∑ `docker-compose.prod.yml`

---

## [v1.4.0] - 2025-10-16

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- üìÖ **–ü–µ—Ä–µ–Ω–æ—Å –∑–∞—è–≤–æ–∫**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –≤–∏–∑–∏—Ç—ã –º–∞—Å—Ç–µ—Ä–∞ –ø–æ –¥–∞—Ç–µ –∏ –≤—Ä–µ–º–µ–Ω–∏
  - –ö–Ω–æ–ø–∫–∞ "üìÖ –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤–∏–∑–∏—Ç" –¥–ª—è –∑–∞—è–≤–æ–∫ –≤ —Å—Ç–∞—Ç—É—Å–∞—Ö ASSIGNED –∏ ACCEPTED
  - –ó–∞–ø—Ä–æ—Å –Ω–æ–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –ø—Ä–∏—á–∏–Ω—ã –ø–µ—Ä–µ–Ω–æ—Å–∞
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä—É —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–µ–π —Å–≤—è–∑–∞—Ç—å—Å—è —Å –∫–ª–∏–µ–Ω—Ç–æ–º
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –¥–∞—Ç–∞, –ø—Ä–∏—á–∏–Ω–∞)
- üéØ **–£–º–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –¥–ª—è –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫**:
  - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∑–∞ 2 —á–∞—Å–∞ –¥–æ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–∏–∑–∏—Ç–∞
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏ –∏–∑ scheduled_time
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤: "–∑–∞–≤—Ç—Ä–∞ 14:00", "17.10.2025 10:00", "—á–µ—Ä–µ–∑ 2 –¥–Ω—è 15:00"
  - –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö SLA-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –∑–∞—è–≤–æ–∫ —Å —Ç–æ—á–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º
  - –î–ª—è –∑–∞—è–≤–æ–∫ –±–µ–∑ —Ç–æ—á–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏: —É–≤–µ–ª–∏—á–µ–Ω –ø–æ—Ä–æ–≥ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –¥–æ 30 –º–∏–Ω—É—Ç
- üìö –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `docs/ORDER_RESCHEDULE_GUIDE.md`

### –ò–∑–º–µ–Ω–µ–Ω–æ
- ‚ú® –£–ø—Ä–æ—â–µ–Ω—ã —Ç–µ–∫—Å—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø–µ—Ä–µ–Ω–æ—Å–∞ –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
- üîß –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –≤ scheduler.py —Å —É—á–µ—Ç–æ–º –ø–µ—Ä–µ–Ω–æ—Å–æ–≤

### –£–¥–∞–ª–µ–Ω–æ
- ‚ùå **–£–±—Ä–∞–Ω —Å—á–µ—Ç—á–∏–∫ –∑–∞—è–≤–æ–∫ –∏–∑ –º–µ–Ω—é**: –£–¥–∞–ª–µ–Ω —Å—á–µ—Ç—á–∏–∫ "(X)" –∏–∑ –∫–Ω–æ–ø–∫–∏ "üìã –í—Å–µ –∑–∞—è–≤–∫–∏"
  - –£–ø—Ä–æ—â–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - —Ç–µ–ø–µ—Ä—å –ø—Ä–æ—Å—Ç–æ "üìã –í—Å–µ –∑–∞—è–≤–∫–∏" –±–µ–∑ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Å—á–µ—Ç—á–∏–∫–∞
  - –£–±—Ä–∞–Ω—ã –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ–Ω—é –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
  - –£–¥–∞–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã `count_new_orders()`, `get_dispatchers_and_admins()`, `set_bot()` –∏–∑ Database
  - –£–¥–∞–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `update_menu_on_status_change()` –∏ `update_dispatchers_menu_after_status_change()`
  - –£–±—Ä–∞–Ω–∞ –∫–Ω–æ–ø–∫–∞ "üîÑ –û–±–Ω–æ–≤–∏—Ç—å –º–µ–Ω—é" –∏ –∫–æ–º–∞–Ω–¥–∞ `/refresh`

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏**:
  - –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞ (`message.bot`) –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –≤—Å–µ–º –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞–º –∏ –∞–¥–º–∏–Ω–∞–º, –∫—Ä–æ–º–µ —Å–æ–∑–¥–∞—Ç–µ–ª—è –∑–∞—è–≤–∫–∏
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ —Å `Unclosed client session`

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –≤ Order: `rescheduled_count`, `last_rescheduled_at`, `reschedule_reason`
- –î–æ–±–∞–≤–ª–µ–Ω—ã FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è: `RescheduleOrderStates`
- –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î: `005_add_reschedule_fields.py`
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–µ—Ä–µ–Ω–æ—Å–∞ –≤ `master.py` –∏ `group_interaction.py`
- üßπ –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞ –æ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –º–µ—Ç–æ–¥–æ–≤
- üîß –£–ø—Ä–æ—â–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_menu_with_counter()` - —Ç–µ–ø–µ—Ä—å –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–µ–Ω—é
- üóëÔ∏è –£–¥–∞–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `new_orders_count` –∏–∑ `get_main_menu_keyboard()`
- üì¶ –û—á–∏—â–µ–Ω—ã –≤—Å–µ `.pyc` —Ñ–∞–π–ª—ã –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## [v1.3.0] - 2025-10-16

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- ‚ú® **–ê–¥–º–∏–Ω –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç –∏–º–µ–Ω–∏ –º–∞—Å—Ç–µ—Ä–∞ –≤ –≥—Ä—É–ø–ø–∞—Ö**
  - –ê–¥–º–∏–Ω –≤ —Ä–∞–±–æ—á–µ–π –≥—Ä—É–ø–ø–µ –º–∞—Å—Ç–µ—Ä–∞ –≤–∏–¥–∏—Ç –æ–±—ã—á–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –º–∞—Å—Ç–µ—Ä–∞
  - –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–∞—Å—Ç–µ—Ä–∞ –ø–æ work_chat_id –≥—Ä—É–ø–ø—ã
  - –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —á–∏—Å–ª—è—Ç—Å—è –∑–∞ –º–∞—Å—Ç–µ—Ä–æ–º –≥—Ä—É–ø–ø—ã
  - –ú–∞—Å—Ç–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–µ–π—Å—Ç–≤–∏—è—Ö –∞–¥–º–∏–Ω–∞
- üìö –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `docs/ADMIN_AS_MASTER.md`
- üè∑Ô∏è –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å Git tags
- üìñ –î–æ–±–∞–≤–ª–µ–Ω–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ `docs/VERSIONING_GUIDE.md`
- ‚ö° –î–æ–±–∞–≤–ª–µ–Ω–∞ —à–ø–∞—Ä–≥–∞–ª–∫–∞ `RELEASE_COMMANDS.md`
- üìù –î–æ–±–∞–≤–ª–µ–Ω —Ñ–∞–π–ª `VERSION` —Å —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–µ–π
- üìù –î–æ–±–∞–≤–ª–µ–Ω `CHANGELOG.md` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ò–∑–º–µ–Ω–µ–Ω–æ
- üî® –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `make prod-deploy` - —Ç–µ–ø–µ—Ä—å –æ—á–∏—â–∞–µ—Ç Docker build cache
- ‚öôÔ∏è –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `make prod-deploy-version` –¥–ª—è –¥–µ–ø–ª–æ—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
- ‚öôÔ∏è –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `make prod-rebuild` –¥–ª—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞
- üéØ –ì—Ä—É–ø–ø–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ä–æ–ª—å ADMIN
- üîß –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –∑–∞—è–≤–æ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –¥–ª—è –∞–¥–º–∏–Ω–∞ (–∫–Ω–æ–ø–∫–∏ "–∑–∞ –º–∞—Å—Ç–µ—Ä–∞")
- üìñ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `docs/PROJECT_READY_FOR_DEPLOYMENT.md`

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Å —Ç–∏–ø–æ–º datetime –≤ —Ä–∞—Å—á–µ—Ç–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤
- üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å Docker cache –ø—Ä–∏ –¥–µ–ø–ª–æ–µ

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `get_master_by_work_chat_id()` –≤ Database
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏: `group_interaction.py`, `admin.py`, `master.py`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `acting_as_master_id` –≤ FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã –≤ Makefile: `git-tag`, `git-tags`, `git-release`

---

## [v1.2.2] - 2025-10-15

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- üì± –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã `docs/KEYBOARD_CHANGES.md`

### –ò–∑–º–µ–Ω–µ–Ω–æ
- ‚ú® –£–ª—É—á—à–µ–Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∑–∞—è–≤–æ–∫ (UX)
- üìÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `SERVER_DEPLOYMENT.md` –∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω—É–ª–µ–≤–æ–π —Å—É–º–º—ã –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –∑–∞—è–≤–æ–∫

---

## [v1.2.1] - 2025-10-15

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- üîß –î–æ–±–∞–≤–ª–µ–Ω—ã Git –∫–æ–º–∞–Ω–¥—ã –≤ Makefile
- üìñ –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `docs/GIT_COMMANDS.md`
- üìã –î–æ–±–∞–≤–ª–µ–Ω –±—ã—Å—Ç—Ä—ã–π –≥–∞–π–¥ –ø–æ –¥–µ–ø–ª–æ—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –ò–∑–º–µ–Ω–µ–Ω–æ
- üìö –ú–∞—Å—à—Ç–∞–±–Ω–∞—è —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
- üßπ –û—á–∏—Å—Ç–∫–∞ –∏ —Ä–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

---

## [v1.2.0] - 2025-10-12

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- üê≥ Dockerfile –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏
- üê≥ docker-compose.yml –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ (dev, prod –≤–∞—Ä–∏–∞–Ω—Ç—ã)
- üìã Makefile —Å –ø–æ–ª–µ–∑–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
- üìñ DOCKER_USAGE.md —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –ø–æ Docker
- üß™ –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤ (unit + integration)
- üîß –ù–∞—Å—Ç—Ä–æ–µ–Ω Alembic –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π –ë–î
- üì¶ –î–æ–±–∞–≤–ª–µ–Ω pyproject.toml
- üîí –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã pre-commit hooks
- üìä –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ—Ç—á–µ—Ç—ã

### –ò–∑–º–µ–Ω–µ–Ω–æ
- ‚¨ÜÔ∏è –û–±–Ω–æ–≤–ª—ë–Ω aiogram —Å 3.4.1 –¥–æ 3.14.0
- ‚¨ÜÔ∏è –û–±–Ω–æ–≤–ª—ë–Ω aiosqlite —Å 0.19.0 –¥–æ 0.20.0
- ‚¨ÜÔ∏è –û–±–Ω–æ–≤–ª—ë–Ω APScheduler —Å 3.10.4 –¥–æ 3.11.0
- ‚¨ÜÔ∏è –û–±–Ω–æ–≤–ª—ë–Ω pydantic —Å 2.5.0 –¥–æ 2.10.3
- üé® –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è PEP 8
- üìù –£–ª—É—á—à–µ–Ω–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—è (type hints)

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã race conditions –≤ –ë–î
- üêõ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã deprecated warnings –æ—Ç aiogram 3

---

## [v1.1.0] - 2025-10-12

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- üë• –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üîÑ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞ –±—ã—Ç—å —Ç–∞–∫–∂–µ –º–∞—Å—Ç–µ—Ä–æ–º
- ‚öôÔ∏è –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–ª—è–º–∏

### –ò–∑–º–µ–Ω–µ–Ω–æ
- üîß –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã —Ä–æ–ª–µ–π
- üìñ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å dual role
- üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

---

## [v1.0.0] - 2025-10-11

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- üéâ –ü–µ—Ä–≤—ã–π —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä–µ–ª–∏–∑
- ü§ñ Telegram –±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∞–º–∏ –Ω–∞ —Ä–µ–º–æ–Ω—Ç
- üë• –†–æ–ª–∏: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –î–∏—Å–ø–µ—Ç—á–µ—Ä, –ú–∞—Å—Ç–µ—Ä
- üë®‚Äçüîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–∞–º–∏
- üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏
- üìä –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞—è–≤–æ–∫
- üìä –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤ –≤ Excel
- ‚è∞ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á (APScheduler)
- üîî –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
- üìñ –ë–∞–∑–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## –§–æ—Ä–º–∞—Ç

- **–î–æ–±–∞–≤–ª–µ–Ω–æ** - –Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- **–ò–∑–º–µ–Ω–µ–Ω–æ** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ
- **–£—Å—Ç–∞—Ä–µ–ª–æ** - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, –∫–æ—Ç–æ—Ä—ã–π —Å–∫–æ—Ä–æ —É–¥–∞–ª—è—Ç
- **–£–¥–∞–ª–µ–Ω–æ** - —É–¥–∞–ª–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ—Ä—Å–∏–∏

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ (–Ω–∞ –ª–æ–∫–∞–ª–∫–µ):
```bash
make git-release VERSION=v1.4.0 MSG="–æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
```

### –î–µ–ø–ª–æ–π –≤–µ—Ä—Å–∏–∏ (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ):
```bash
make prod-deploy-version VERSION=v1.3.0
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π:
```bash
git tag -l
```

---

üìñ –°–º. —Ç–∞–∫–∂–µ: `docs/VERSIONING_GUIDE.md`
