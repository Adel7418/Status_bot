# –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

## –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (3 —à–∞–≥–∞)

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

**Windows (–ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±):**
```bash
test_encryption.bat
```

**Linux/Mac –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é:**
```bash
python scripts/test_encryption.py
# –ò–õ–ò
make test-encryption
```

### 2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ï—Å–ª–∏ –≤—Å—ë OK, –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
*** –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´ –£–°–ü–ï–®–ù–û! ***
```

–ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:
```
[WARNING] ENCRYPTION_KEY –ù–ï –ù–ê–ô–î–ï–ù –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è!
```

### 3. –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

–°–∫—Ä–∏–ø—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–ª—é—á –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –¥–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ `.env`:

```env
ENCRYPTION_KEY=–≤–∞—à_—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_–∫–ª—é—á
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ

**Windows:**
```bash
check_encryption_db.bat
```

**Linux/Mac –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é:**
```bash
python scripts/check_encryption_in_db.py
# –ò–õ–ò
make check-encryption-db
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç:
- ‚úÖ –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã
- ‚ö†Ô∏è –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—é

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è production

1. **–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á**:
   ```bash
   python scripts\test_encryption.py
   ```

2. **–î–æ–±–∞–≤—å—Ç–µ –≤ `env.production`**:
   ```env
   ENCRYPTION_KEY=–≤–∞—à_—É–Ω–∏–∫–∞–ª—å–Ω—ã–π_–∫–ª—é—á_–¥–ª—è_production
   ```

3. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ** (password manager)

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç**:
   ```bash
   docker compose -f docker/docker-compose.prod.yml restart
   ```

## –ß—Ç–æ —à–∏—Ñ—Ä—É–µ—Ç—Å—è?

–í –ø—Ä–æ–µ–∫—Ç–µ —à–∏—Ñ—Ä—É—é—Ç—Å—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–æ–≤:
- üì± –¢–µ–ª–µ—Ñ–æ–Ω–Ω—ã–µ –Ω–æ–º–µ—Ä–∞
- üë§ –§–ò–û –∫–ª–∏–µ–Ω—Ç–æ–≤  
- üìç –ê–¥—Ä–µ—Å–∞

## –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### ENCRYPTION_KEY –Ω–µ –Ω–∞–π–¥–µ–Ω

**–ü—Ä–∏—á–∏–Ω–∞**: –ö–ª—é—á –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ**: 
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python scripts\test_encryption.py`
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á
3. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env` –∏–ª–∏ `env.production`
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –î–∞–Ω–Ω—ã–µ –Ω–µ –¥–µ—à–∏—Ñ—Ä—É—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞**: –ò–∑–º–µ–Ω–∏–ª—Å—è –∫–ª—é—á –ø–æ—Å–ª–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ**:
1. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç–∞—Ä—ã–π –∫–ª—é—á –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
2. –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –ø–µ—Ä–µ—à–∏—Ñ—Ä–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### –ù–µ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã

**–ü—Ä–∏—á–∏–Ω–∞**: –î–∞–Ω–Ω—ã–µ –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–æ –≤–∫–ª—é—á–µ–Ω–∏—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ**: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é (—Å–º. `docs/ENCRYPTION_GUIDE.md`)

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: **`docs/ENCRYPTION_GUIDE.md`**

–¢–∞–º –≤—ã –Ω–∞–π–¥–µ—Ç–µ:
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
- –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –∫–æ–¥
- –°–∫—Ä–∏–ø—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- Troubleshooting

## Checklist –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] –¢–µ—Å—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–π–¥–µ–Ω (`python scripts\test_encryption.py`)
- [ ] ENCRYPTION_KEY –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –ö–ª—é—á —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ password manager
- [ ] –î–ª—è production –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å –ë–î (`python scripts\check_encryption_in_db.py`)

---

**–í–ê–ñ–ù–û**: –ë–µ–∑ –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã–µ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã! 
–•—Ä–∞–Ω–∏—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –∫–ª—é—á–∞ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ.

