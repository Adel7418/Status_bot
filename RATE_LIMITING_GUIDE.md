# üõ°Ô∏è Rate Limiting - –ó–∞—â–∏—Ç–∞ –æ—Ç spam

**–ü—Ä–æ–±–ª–µ–º–∞:** P0-4 - –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç DoS –∞—Ç–∞–∫ –∏ spam  
**–†–µ—à–µ–Ω–∏–µ:** Rate Limiting Middleware —Å Token Bucket –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º  
**ETA:** 1 –¥–µ–Ω—å  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0 (–∫—Ä–∏—Ç–∏—á–Ω–æ)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û

---

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. **–°–æ–∑–¥–∞–Ω RateLimitMiddleware** (`app/middlewares/rate_limit.py`)

**–ê–ª–≥–æ—Ä–∏—Ç–º:** Token Bucket
- ‚úÖ 3 –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ–∫—É–Ω–¥—É (–±–∞–∑–æ–≤—ã–π rate)
- ‚úÖ Burst –¥–æ 5 –∑–∞–ø—Ä–æ—Å–æ–≤ (–∫—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤—Å–ø–ª–µ—Å–∫)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ Per-user –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- ‚úÖ User-friendly —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### 2. **–ü–æ–¥–∫–ª—é—á–µ–Ω–æ –≤ bot.py**

**–ü–æ—Ä—è–¥–æ–∫ middleware:**
```
1. Logging          ‚Üí –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π
2. Rate Limiting    ‚Üí –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ spam (–ù–û–í–û–ï!)
3. Role Check       ‚Üí –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. Validation       ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ State Machine
5. Handlers         ‚Üí –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥
```

### 3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**

```python
rate=3      # 3 –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ–∫—É–Ω–¥—É
period=1    # –ó–∞ 1 —Å–µ–∫—É–Ω–¥—É
burst=5     # –ú–∞–∫—Å–∏–º—É–º 5 –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–¥—Ä—è–¥
```

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### Token Bucket –∞–ª–≥–æ—Ä–∏—Ç–º

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—á–∏–Ω–∞–µ—Ç —Å 5 —Ç–æ–∫–µ–Ω–∞–º–∏ (burst)
‚Üì
–ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∑–∞–±–∏—Ä–∞–µ—Ç 1 —Ç–æ–∫–µ–Ω
‚Üì
–¢–æ–∫–µ–Ω—ã –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è: 3 —Ç–æ–∫–µ–Ω–∞/—Å–µ–∫
‚Üì
–ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤: 5 (burst)
```

**–ü—Ä–∏–º–µ—Ä—ã:**

#### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–æ—Ä–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```
00:00 - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /start          ‚Üí –¢–æ–∫–µ–Ω—ã: 5 ‚Üí 4 ‚úÖ
00:01 - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ù–∞–∂–∞–ª –∫–Ω–æ–ø–∫—É     ‚Üí –¢–æ–∫–µ–Ω—ã: 4 ‚Üí 3 ‚úÖ
00:02 - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ï—â—ë –∫–Ω–æ–ø–∫–∞       ‚Üí –¢–æ–∫–µ–Ω—ã: 3 ‚Üí 2 ‚úÖ

–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ ‚úÖ
```

#### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ë—ã—Å—Ç—Ä—ã–µ –∫–ª–∏–∫–∏ (burst)
```
00:00.0 - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –∫–ª–∏–∫           ‚Üí –¢–æ–∫–µ–Ω—ã: 5 ‚Üí 4 ‚úÖ
00:00.1 - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –∫–ª–∏–∫           ‚Üí –¢–æ–∫–µ–Ω—ã: 4 ‚Üí 3 ‚úÖ
00:00.2 - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –∫–ª–∏–∫           ‚Üí –¢–æ–∫–µ–Ω—ã: 3 ‚Üí 2 ‚úÖ
00:00.3 - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –∫–ª–∏–∫           ‚Üí –¢–æ–∫–µ–Ω—ã: 2 ‚Üí 1 ‚úÖ
00:00.4 - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –∫–ª–∏–∫           ‚Üí –¢–æ–∫–µ–Ω—ã: 1 ‚Üí 0 ‚úÖ
00:00.5 - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –∫–ª–∏–∫           ‚Üí –¢–æ–∫–µ–Ω—ã: 0 ‚ùå –ë–õ–û–ö–ò–†–û–í–ö–ê!

–°–æ–æ–±—â–µ–Ω–∏–µ: "‚ö†Ô∏è –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1 —Å–µ–∫."
```

#### –°—Ü–µ–Ω–∞—Ä–∏–π 3: Spam –∞—Ç–∞–∫–∞
```
–ê—Ç–∞–∫—É—é—â–∏–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç 100 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫
‚Üì
–ü–µ—Ä–≤—ã–µ 5 –ø—Ä–æ–π–¥—É—Ç (burst)
‚Üì
–û—Å—Ç–∞–ª—å–Ω—ã–µ 95 –∑–∞–±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è ‚ùå
‚Üì
–ë–æ—Ç –∑–∞—â–∏—â—ë–Ω! ‚úÖ
```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–∏–º–∏—Ç–æ–≤

### –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ):

```python
# bot.py
rate_limit_middleware = RateLimitMiddleware(
    rate=3,      # 3 –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ–∫—É–Ω–¥—É
    period=1,    # –ó–∞ 1 —Å–µ–∫—É–Ω–¥—É
    burst=5      # –î–æ 5 –ø–æ–¥—Ä—è–¥
)
```

**–î–ª—è —á–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç:**
- ‚úÖ –û–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (—É–¥–æ–±–Ω–æ)
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ spam
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –±–æ—Ç–æ–≤

### –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–¥–ª—è production):

```python
# –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å—Ç—Ä–æ–∂–µ
rate_limit_middleware = RateLimitMiddleware(
    rate=2,      # 2 –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ–∫—É–Ω–¥—É
    period=1,
    burst=3      # –î–æ 3 –ø–æ–¥—Ä—è–¥
)
```

### –ë–æ–ª–µ–µ –º—è–≥–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞):

```python
# –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∂–∞–ª—É—é—Ç—Å—è
rate_limit_middleware = RateLimitMiddleware(
    rate=5,      # 5 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
    period=1,
    burst=10     # –î–æ 10 –ø–æ–¥—Ä—è–¥
)
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ù–æ—Ä–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
python bot.py

# –í –±–æ—Ç–µ:
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ /start
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É
3. –ï—â—ë –∫–Ω–æ–ø–∫—É
4. –ï—â—ë –∫–Ω–æ–ø–∫—É

–í—Å—ë –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ ‚úÖ
```

### –¢–µ—Å—Ç 2: –ë—ã—Å—Ç—Ä—ã–µ –∫–ª–∏–∫–∏ (burst)

```bash
# –í –±–æ—Ç–µ –±—ã—Å—Ç—Ä–æ-–±—ã—Å—Ç—Ä–æ –Ω–∞–∂–∏–º–∞–π—Ç–µ –∫–Ω–æ–ø–∫–∏:
–ö–ª–∏–∫-–∫–ª–∏–∫-–∫–ª–∏–∫-–∫–ª–∏–∫-–∫–ª–∏–∫-–∫–ª–∏–∫

# –ü–æ—Å–ª–µ 5-–≥–æ –∫–ª–∏–∫–∞:
‚ö†Ô∏è –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1 —Å–µ–∫.
```

### –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```bash
# –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏
tail -f logs/bot.log | grep -i "rate limit"

# –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞:
WARNING - ‚ö†Ô∏è Rate limit exceeded for user 123456789 (@username). Wait time: 1s

# –ü—Ä–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ:
DEBUG - Rate limit OK for user 123456789. Remaining tokens: 3.50
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Rate Limiting

### –î–æ–±–∞–≤—å—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

```python
# –í bot.py –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
rate_limit_middleware = RateLimitMiddleware(rate=3, period=1, burst=5)

# –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É
async def log_rate_limit_stats():
    stats = rate_limit_middleware.get_stats()
    logger.info(f"Rate limit stats: {stats}")

# –í scheduler (–∫–∞–∂–¥—ã–π —á–∞—Å)
scheduler.add_job(
    log_rate_limit_stats,
    trigger=IntervalTrigger(hours=1),
    id="rate_limit_stats"
)
```

---

## üîê –ó–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫

### –ß—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç Rate Limiting:

#### ‚úÖ DoS –∞—Ç–∞–∫–∞ (Denial of Service)
```
–ê—Ç–∞–∫—É—é—â–∏–π: 1000 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫
Rate Limiter: –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ 5-–≥–æ –∑–∞–ø—Ä–æ—Å–∞
–ë–æ—Ç: –û—Å—Ç–∞—ë—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚úÖ
```

#### ‚úÖ Spam-–∞—Ç–∞–∫–∞
```
–°–ø–∞–º–µ—Ä: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç "test" 100 —Ä–∞–∑
Rate Limiter: –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ 5-–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
–î—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: –†–∞–±–æ—Ç–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ ‚úÖ
```

#### ‚úÖ –°–ª—É—á–∞–π–Ω—ã–π –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –°–ª—É—á–∞–π–Ω–æ –∫–ª–∏–∫–Ω—É–ª 2 —Ä–∞–∑–∞ –Ω–∞ –∫–Ω–æ–ø–∫—É
Rate Limiter: –û–±–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç (—Ç–æ–∫–µ–Ω–æ–≤ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ù–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
```

#### ‚úÖ –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ Telegram API –ª–∏–º–∏—Ç–æ–≤
```
Telegram –ª–∏–º–∏—Ç: 30 msg/sec per chat
–í–∞—à –ª–∏–º–∏—Ç: 3 req/sec per user
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—Ä–µ–≤—ã—Å–∏—Ç–µ Telegram –ª–∏–º–∏—Ç ‚úÖ
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ –≤–∞—à—É –Ω–∞–≥—Ä—É–∑–∫—É

### –î–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è (8 –º–∞—Å—Ç–µ—Ä–æ–≤, 0.9 –∑–∞—è–≤–æ–∫/–¥–µ–Ω—å):

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
```python
# –ú–æ–∂–Ω–æ –±—ã—Ç—å –±–æ–ª–µ–µ –º—è–≥–∫–∏–º–∏
rate_limit_middleware = RateLimitMiddleware(
    rate=5,      # 5 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É (—É–¥–æ–±–Ω–æ)
    period=1,
    burst=10     # –î–æ 10 –ø–æ–¥—Ä—è–¥ (–∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ)
)
```

**–ü–æ—á–µ–º—É:**
- –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∏–∑–∫–∞—è ‚Üí DoS –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–µ–Ω
- –£–¥–æ–±—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–∞–∂–Ω–µ–µ —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏
- –í—Å—ë —Ä–∞–≤–Ω–æ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –±–æ—Ç–æ–≤ –∏ —Å–ª—É—á–∞–π–Ω–æ–≥–æ spam

**–ò–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
```python
rate=3, period=1, burst=5  # –ë–∞–ª–∞–Ω—Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å/—É–¥–æ–±—Å—Ç–≤–æ
```

---

## üÜò –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∂–∞–ª—É—é—Ç—Å—è

### –ü—Ä–∏–∑–Ω–∞–∫–∏ —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏—Ö –ª–∏–º–∏—Ç–æ–≤:

```
–ñ–∞–ª–æ–±—ã: "–ë–æ—Ç –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∫–Ω–æ–ø–∫–∏"
–õ–æ–≥–∏: –ú–Ω–æ–≥–æ "Rate limit exceeded"
```

**–†–µ—à–µ–Ω–∏–µ:**

```python
# –í bot.py —É–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç—ã
rate_limit_middleware = RateLimitMiddleware(
    rate=5,      # –ë—ã–ª–æ 3
    period=1,
    burst=10     # –ë—ã–ª–æ 5
)
```

---

## üìù Whitelist (–∏—Å–∫–ª—é—á–µ–Ω–∏—è)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–∫–ª—é—á–∏—Ç—å –∞–¥–º–∏–Ω–æ–≤ –∏–∑ rate limiting:

```python
# app/middlewares/rate_limit.py

async def __call__(self, handler, event, data):
    user = event.from_user
    
    # –ò—Å–∫–ª—é—á–∞–µ–º –∞–¥–º–∏–Ω–æ–≤ –∏–∑ rate limiting
    from app.config import Config
    if user.id in Config.ADMIN_IDS:
        logger.debug(f"Admin {user.id} bypassed rate limit")
        return await handler(event, data)
    
    # –û–±—ã—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
    if not self._consume_token(user.id):
        # ... –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [‚úÖ] RateLimitMiddleware —Å–æ–∑–¥–∞–Ω
- [‚úÖ] –ü–æ–¥–∫–ª—é—á—ë–Ω –≤ bot.py (2-—è –ø–æ–∑–∏—Ü–∏—è)
- [‚úÖ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏: 3 req/sec, burst 5
- [‚úÖ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ
- [‚úÖ] User-friendly —Å–æ–æ–±—â–µ–Ω–∏—è
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ (TODO - —Å–¥–µ–ª–∞–π—Ç–µ)
- [ ] Production deployment

---

## üéØ –ò—Ç–æ–≥

**–î–æ:**
- ‚ùå –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç spam
- ‚ùå DoS –∞—Ç–∞–∫–∞ –ø–∞—Ä–∞–ª–∏–∑—É–µ—Ç –±–æ—Ç–∞
- ‚ùå –ú–æ–∂–Ω–æ –ø—Ä–µ–≤—ã—Å–∏—Ç—å Telegram API –ª–∏–º–∏—Ç—ã
- ‚ùå NOT production-ready

**–ü–æ—Å–ª–µ:**
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç spam-–∞—Ç–∞–∫
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç DoS
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –±–æ—Ç–æ–≤
- ‚úÖ Telegram API –ª–∏–º–∏—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω—ã
- ‚úÖ User-friendly –æ—à–∏–±–∫–∏
- ‚úÖ Production-ready ‚ú®

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~1 —á–∞—Å (–≤–∫–ª—é—á–∞—è —Ç–µ—Å—Ç—ã)

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–µ–π—á–∞—Å:**
```bash
python bot.py
# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –±—ã—Å—Ç—Ä–æ –∫–ª–∏–∫–∞—Ç—å –∫–Ω–æ–ø–∫–∏
```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
```bash
tail -f logs/bot.log | grep "Rate"
```

3. **–ï—Å–ª–∏ –≤—Å—ë –û–ö ‚Üí –∑–∞–¥–µ–ø–ª–æ–π—Ç–µ –Ω–∞ production**

---

**–î–∞—Ç–∞:** 19 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0 - –ö—Ä–∏—Ç–∏—á–Ω–æ

